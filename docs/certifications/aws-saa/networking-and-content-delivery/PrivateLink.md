---
title: AWS PrivateLink
---

## 1. サービス概要

AWS PrivateLink は、AWS が提供するサービスで、VPC (Virtual Private Cloud) と AWS サービスまたは他の AWS アカウントでホストされているサービスとの間を、パブリックインターネットを経由せずにプライベートに接続できる。  
PrivateLink を利用することで、VPC 内のリソースから AWS サービスへのアクセスを安全に行え、インターネット上の脅威から保護することができる。  
また、AWS Direct Connect を使用してオンプレミス環境から AWS サービスへ、PrivateLink 経由で接続することも可能である。

主なユースケースとして、

- VPC 内からの AWS サービスへの安全なアクセス
- 異なる VPC 間でのプライベート接続
- オンプレミス環境からの AWS サービスへのセキュアな接続

などが挙げられる。

## 2. 主な特徴と機能

### 2.1 プライベート接続

PrivateLink は、パブリックインターネットを経由せずに、AWS のネットワーク内でプライベートな接続を確立する。  
これにより、データがインターネットに晒されるリスクを軽減できる。

### 2.2 ネットワークアドレスの重複回避

異なる VPC 間で IP アドレスが重複していても、PrivateLink を使用することで、ネットワークアドレスの競合を回避できる。  
これにより、複雑なネットワーク構成でもセキュアな通信が可能である。

### 2.3 簡単な設定

VPC エンドポイントを作成し、AWS サービスを選択するだけで、簡単に PrivateLink を設定できる。  
複雑なルーティング設定やネットワーク構成は必要ありません。

### 2.4 幅広い AWS サービスのサポート

Amazon S3, Amazon DynamoDB, Amazon SNS, Amazon SQS, AWS KMS など、多くの AWS サービスが PrivateLink をサポートしている。  
また、AWS Marketplace で提供されるサードパーティ製のサービスも PrivateLink に対応している。

### 2.5 オンプレミスからの接続

AWS Direct Connect と組み合わせることで、オンプレミス環境から AWS サービスへ、PrivateLink 経由で安全に接続できる。  
これにより、ハイブリッド環境でのセキュアなデータ転送が可能である。

### 2.6 セキュリティ

PrivateLink は、データが AWS のネットワーク内で転送されるため、インターネット上の脅威から保護される。  
VPC セキュリティグループやネットワーク ACL を使用して、アクセス制御を強化できる。

### 2.7 スケーラビリティと可用性

PrivateLink は、スケーラブルで可用性の高いインフラストラクチャ上で動作する。  
これにより、大量のトラフィックにも対応でき、サービスの可用性を確保できる。

### 2.8 統合性

PrivateLink は、AWS の他のサービス (VPC, Route 53, Security Hub など) と統合されており、既存の AWS 環境に簡単に組み込むことができる。  
CloudTrail を利用して、PrivateLink エンドポイントの利用状況を監査できる。

## 3. アーキテクチャおよび技術要素

1. サービスプロバイダーは、Network Load Balancer (NLB) の背後にサービスを公開し、VPC エンドポイントサービスを作成。
2. サービスコンシューマーは、VPC エンドポイントを作成し、サービスプロバイダーが公開したサービスに接続。
3. トラフィックは、VPC 内のプライベート IP アドレスを介して、AWS ネットワーク内でルーティング。
4. インターネットを経由せずに、VPC 間、またはオンプレミスと AWS 間で通信。

PrivateLink は、VPC エンドポイントと VPC エンドポイントサービスを利用して、プライベートな接続を確立する。  
これにより、パブリックインターネットを経由せずに安全な通信を実現する。

## 4. セキュリティと認証・認可

セキュリティは PrivateLink の重要な要素である:

- **IAM によるアクセス制御**: AWS IAM を利用して、VPC エンドポイントやエンドポイントサービスへのアクセスを制御し、権限を管理。
- **VPC セキュリティグループ**: VPC セキュリティグループを利用して、VPC エンドポイントへのトラフィックを制御。
- **ネットワーク ACL**: ネットワーク ACL を利用して、サブネットレベルでのアクセス制御を設定。
- **データ暗号化**: PrivateLink を介して転送されるデータは、TLS で暗号化。
- **監査ログ**: AWS CloudTrail を利用して、API 呼び出しやリソース変更を記録。

これにより、データの安全性とコンプライアンスを確保できる。

## 5. 料金形態

AWS PrivateLink の料金は主に以下に基づく:

- **VPC エンドポイント時間**: VPC エンドポイントがアクティブな時間に応じた課金。
- **データ処理量**: VPC エンドポイントを介して処理されるデータ量に応じた課金。

## 6. よくあるアーキテクチャ・設計パターン

一般的なパターンは以下の通りである:

- **VPC 内からの AWS サービスへのアクセス**: VPC 内の EC2 インスタンスや Lambda 関数から、Amazon S3 や DynamoDB などの AWS サービスへ、PrivateLink 経由で安全にアクセス。
- **異なる VPC 間でのプライベート接続**: 異なる AWS アカウントやリージョンの VPC 間で、PrivateLink を使用してプライベート接続を確立。
- **オンプレミスからの AWS サービスへのセキュアな接続**: AWS Direct Connect と PrivateLink を組み合わせて、オンプレミス環境から AWS サービスへ安全に接続。
- **サードパーティサービスとのプライベート接続**: AWS Marketplace で提供されるサードパーティ製のサービスへ、PrivateLink 経由でプライベートに接続。
- **マイクロサービス間のセキュアな通信**: 複数のマイクロサービス間の通信を、PrivateLink を使用してセキュアに実施。

## 7. 設定・デプロイ手順 (ハンズオン例)

1. VPC エンドポイントサービスを作成し、サービスを公開。
2. VPC エンドポイントを作成し、公開されたサービスに接続。
3. VPC セキュリティグループやネットワーク ACL を設定し、アクセス制御を定義。
4. VPC 内のリソースから、PrivateLink 経由でサービスにアクセスできることを確認。
5. CloudWatch で接続状況やトラフィック量を監視。

## 8. 試験で問われやすいポイント

### 8.1 プライベート接続

- **インターネットバイパス**: パブリックインターネットを経由せずに、AWS ネットワーク内でプライベートな接続を確立できることを理解。
- **セキュリティ向上**: データがインターネットに晒されるリスクを軽減できることを理解。

### 8.2 ネットワークアドレスの重複回避

- **IP アドレスの競合**: 異なる VPC 間で IP アドレスが重複しても、PrivateLink で回避できることを理解。
- **セキュアな通信**: 複雑なネットワーク構成でもセキュアな通信が可能であることを理解。

### 8.3 簡単な設定

- **VPC エンドポイント**: VPC エンドポイントを作成するだけで、PrivateLink を設定できることを理解。
- **簡略化**: 複雑なルーティング設定やネットワーク構成が不要であることを理解。

### 8.4 料金体系

- **VPC エンドポイント時間**: VPC エンドポイントがアクティブな時間による課金を理解。
- **データ処理量**: VPC エンドポイントを介して処理されるデータ量による課金を理解。

### 8.5 類似・関連サービスとの比較

- **VPC Peering**: VPC 間接続。PrivateLink は VPC と AWS サービス間、または異なるアカウントの VPC 間の接続に特化。
- **AWS Direct Connect**: オンプレミスと AWS 間の専用線接続。PrivateLink はサービスへのプライベート接続に特化。

### 8.6 試験で頻出となる具体的な問われ方と答え

- Q: AWS PrivateLink の主な用途は？
  - A: VPC と AWS サービス間、または異なるアカウントの VPC 間をプライベートに接続すること。
- Q: PrivateLink はインターネットを経由する？
  - A: いいえ、プライベートな AWS ネットワーク内で接続。
- Q: PrivateLink でネットワークアドレスの重複はどうなる？
  - A: PrivateLink でアドレスの競合を回避。
- Q: PrivateLink の設定で必要なものは？
  - A: VPC エンドポイント。
- Q: PrivateLink のセキュリティ対策は？
  - A: VPC セキュリティグループ、ネットワーク ACL、TLS 暗号化など。
- Q: PrivateLink の料金体系は？
  - A: VPC エンドポイント時間とデータ処理量に基づいた従量課金。
- Q: PrivateLink と VPC Peering の違いは？
  - A: VPC Peering は VPC 間接続、PrivateLink はサービスへのプライベート接続に特化。
