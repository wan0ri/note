---
title: AWS Data Pipeline
---

## 1. サービス概要

AWS Data Pipeline は、AWS が提供するフルマネージドのデータオーケストレーションサービスである。  
このサービスを利用することで、様々なデータソースからのデータを、定期的にまたはイベントトリガーに基づいて移動および変換する複雑なデータパイプラインを構築できる。  
Data Pipeline は、データの抽出、変換、ロード（ETL）処理を自動化し、データの信頼性と効率性を向上させる。

主なユースケースとして、

- ログデータの集約と分析
- データウェアハウスへのデータロード
- データベース間のデータ移行
- データバックアップ
- 機械学習モデルのトレーニングデータ準備

などが挙げられる。

## 2. 主な特徴と機能

### 2.1 データパイプラインのオーケストレーション

Data Pipeline は、データソースからターゲットへのデータの移動と変換をオーケストレーションするための機能を提供する。  
データパイプラインの各ステップ（アクティビティ）を定義し、実行順序と依存関係を管理できる。

### 2.2 様々なデータソースとターゲットのサポート

Amazon S3, Amazon DynamoDB, Amazon RDS, Amazon Redshift, Amazon EMR など、様々な AWS サービスをデータソースとターゲットとしてサポートしている。  
これにより、AWS 環境における多様なデータを取り扱うことができる。

### 2.3 スケジュール実行とイベントトリガー

データパイプラインをスケジュールに基づいて定期的に実行したり、Amazon S3 などのイベントをトリガーとして実行したりできる。  
これにより、バッチ処理とリアルタイム処理の両方に対応できる。

### 2.4 柔軟なデータ変換

Data Pipeline は、データのフィルタリング、変換、集計などの様々なデータ変換処理をサポートしている。 AWS Glue と連携して、より高度なデータ変換処理を実行することも可能である。

### 2.5 可視化とモニタリング

AWS Management Console や CloudWatch を利用して、データパイプラインの実行状況、リソース使用量、エラーなどを可視化できる。  
これにより、パイプラインの監視と問題解決を容易に行える。

### 2.6 失敗時の自動リトライ

パイプラインの実行中にエラーが発生した場合、自動的にリトライする機能を提供する。  
これにより、データの信頼性と可用性を向上させる。

### 2.7 セキュリティ

Data Pipeline は、データの暗号化、アクセス制御、コンプライアンス認証に対応し、安全なデータ処理を保証する。  
IAM によるアクセス制御、転送中のデータ暗号化、保存中のデータ暗号化、VPC 内でのプライベート接続をサポートしている。

- **IAM 連携**: AWS IAM を使用してアクセス制御と権限管理。
- **データ暗号化**: 転送中および保存中のデータを暗号化。
- **VPC サポート**: Amazon VPC 内でのプライベート接続。

### 2.8 統合性

Data Pipeline は、AWS の他のサービス（Amazon S3, Amazon EMR, AWS Glue, Amazon SNS など）と統合されており、様々なデータ処理ワークフローを構築できる。  
AWS Lambda と連携してカスタム処理を実行できる。

## 3. アーキテクチャおよび技術要素

ユーザーは、Data Pipeline コンソールまたは API でデータパイプラインを定義。
定義されたスケジュールまたはイベントトリガーに基づいて、データパイプラインが実行。
データソースからデータが抽出され、必要に応じて変換処理が実行。
変換されたデータは、ターゲットにロード。
パイプラインの実行状況は、CloudWatch で監視。
Data Pipeline は、フルマネージドサービスとして提供され、高い可用性、スケーラビリティ、セキュリティを内包している。 データパイプラインの構築と管理を簡素化し、ユーザーはデータ処理に集中できる。

## 4. セキュリティと認証・認可

セキュリティは Data Pipeline の重要な要素である:

- **IAM によるアクセス制御**: AWS IAM を利用して、Data Pipeline リソースへのアクセスを制御し、権限を管理。
- **データ暗号化**: 転送中および保存中のデータを暗号化し、データの機密性を保護。
- **VPC サポート**: Amazon VPC 内で Data Pipeline を使用する場合、プライベート接続を確立。
- **監査ログ**: AWS CloudTrail を利用して、API 呼び出しやリソース変更を記録。

これにより、データの安全性とコンプライアンスを確保できる。

## 5. 料金形態

AWS Data Pipeline の料金は主に以下に基づく:

- **パイプライン実行時間**: パイプラインがアクティブな時間に応じた課金。
- **リソース使用量**: パイプラインが使用するコンピューティングリソースに応じた課金（EMR クラスタなど）。
- **アクティビティの実行回数**: パイプライン内のアクティビティの実行回数に応じた課金。

## 6. よくあるアーキテクチャ・設計パターン

一般的なパターンは以下の通りである:

- **ログデータの集約と分析**: EC2 インスタンスやアプリケーションログを S3 に集約し、Amazon EMR で分析。
- **データウェアハウスへのデータロード**: データベースや S3 からデータを抽出し、Amazon Redshift に定期的にロード。
- **データベース間のデータ移行**: オンプレミスデータベースからクラウドデータベースへのデータ移行を自動化。
- **データバックアップ**: データベースや S3 バケットのデータを定期的にバックアップ。
- **機械学習モデルのトレーニングデータ準備**: 機械学習モデルのトレーニングに必要なデータを準備し、S3 に保存。

## 7. 設定・デプロイ手順（ハンズオン例）

1. AWS コンソールで Data Pipeline パイプラインを作成。
2. データソース（例: Amazon S3）とターゲット（例: Amazon Redshift）を設定。
3. データ変換処理（例: S3 から Redshift へのデータコピー）を設定。
4. パイプラインのスケジュールまたはイベントトリガーを設定。
5. パイプラインを実行し、データの移動と変換を確認。

## 8. 試験で問われやすいポイント

### 8.1 データパイプラインのオーケストレーション

- **データ移動と変換**: データソースからターゲットへのデータの移動と変換をオーケストレーションできることを理解。
- **アクティビティ定義**: パイプラインの各ステップを定義し、実行順序と依存関係を管理できることを理解。

### 8.2 様々なデータソースとターゲット

- **サポート対象サービス**: S3, DynamoDB, RDS, Redshift, EMR など、Data Pipeline がサポートする AWS サービスを理解。
- **データ取り扱い**: AWS 環境における多様なデータを取り扱えることを理解。

### 8.3 スケジュール実行とイベントトリガー

- **スケジュール実行**: スケジュールに基づいて定期的にデータパイプラインを実行する方法を理解。
- **イベントトリガー**: イベントをトリガーとしてデータパイプラインを実行する方法を理解。

### 8.4 料金体系

- **パイプライン実行時間**: パイプラインがアクティブな時間による課金を理解。
- **リソース使用量**: パイプラインが使用するコンピューティングリソースによる課金を理解。
- **アクティビティ実行回数**: パイプライン内のアクティビティの実行回数による課金を理解。

### 8.5 類似・関連サービスとの比較

- **AWS Glue**: ETL ジョブに特化。Data Pipeline はデータパイプラインのオーケストレーションに特化。
- **Amazon Step Functions**: ワークフローのオーケストレーションに特化。Data Pipeline はデータ移動と変換に特化。

### 8.6 試験で頻出となる具体的な問われ方と答え

- Q: AWS Data Pipeline の主な用途は？
  - A: データソースからのデータを定期的に移動、変換、オーケストレーションすること。
- Q: Data Pipeline がサポートするデータソースの例は？
  - A: S3, DynamoDB, RDS, Redshift, EMR など。
- Q: Data Pipeline のデータパイプラインの実行方法は？
  - A: スケジュール実行とイベントトリガー。
- Q: Data Pipeline の料金体系は？
  - A: パイプライン実行時間、リソース使用量、アクティビティ実行回数に基づいた課金。
- Q: Data Pipeline のセキュリティ対策は？
  - A: IAM によるアクセス制御、データ暗号化、VPC サポートなど。
- Q: Data Pipeline と AWS Glue の違いは？
  - A: Glue は ETL ジョブ、Data Pipeline はパイプラインオーケストレーションに特化。
- Q: Data Pipeline と Step Functions の違いは？
  - A: Step Functions はワークフロー、Data Pipeline はデータ移動と変換に特化。
