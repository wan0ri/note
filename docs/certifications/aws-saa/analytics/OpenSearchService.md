---
title: Amazon OpenSearch Service
---

## 1. サービス概要

Amazon OpenSearch Service は、検索、ログ分析、アプリケーション監視などのユースケースに対応した、フルマネージドの検索・分析エンジンサービスである。  
ユーザーは、OpenSearch または Elasticsearch のクラスターを簡単にデプロイ、管理、スケーリングでき、大規模なデータに対する高速な検索や分析を実行できる。  
OpenSearch Service は、

- 可用性
- スケーラビリティ
- セキュリティ

を提供し、複雑なデータ分析を容易にする。

主なユースケースとして、

- Web サイト内検索
- アプリケーションログ分析
- セキュリティ情報イベント管理（SIEM）
- ビジネスインテリジェンス（BI）
- 監視ダッシュボード
- 地理空間データ分析

などが挙げられる。  
Amazon OpenSearch Service は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

## 2. 主な特徴と機能

### 2.1 OpenSearch と Elasticsearch のサポート

Amazon OpenSearch Service は、OpenSearch と Elasticsearch の両方のエンジンをサポートしている。  
ユーザーは、既存の Elasticsearch クラスターを移行したり、新しい OpenSearch クラスターを作成したりできる。

### 2.2 フルマネージドサービス

OpenSearch Service は、クラスターのプロビジョニング、スケーリング、パッチ適用などの管理を AWS に任せることができる。  
ユーザーは、インフラストラクチャの管理に煩わされることなく、データ分析に集中できる。

### 2.3 スケーラビリティ

OpenSearch Service は、ストレージ容量とコンピューティングリソースを自動的にスケーリングできる。  
これにより、データ量の増加やクエリ負荷の変動に対応し、安定したパフォーマンスを提供できる。

### 2.4 高い可用性

OpenSearch Service は、複数のアベイラビリティゾーンにデータを複製することで、高い可用性を実現している。  
これにより、ハードウェア障害やゾーン障害が発生した場合でも、アプリケーションの可用性を維持できる。

### 2.5 Kibana と OpenSearch Dashboards

Kibana（Elasticsearch 用）または OpenSearch Dashboards（OpenSearch 用）を使用して、データを可視化し、インタラクティブなダッシュボードを作成できる。  
これにより、データ分析をより直感的かつ容易に行える。

### 2.6 セキュリティ

セキュリティグループ、IAM ポリシー、VPC エンドポイント、暗号化などの機能を提供し、データのセキュリティを確保する。  
これにより、機密性の高いデータを安全に管理できる。

### 2.7 統合性と拡張性

Amazon OpenSearch Service は、Amazon S3, Amazon Kinesis, AWS Lambda, Amazon CloudWatch Logs などの AWS の他のサービスと密接に統合されている。  
また、API を利用して、クラスターの管理やデータ分析を自動化することもできる。

## 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS マネジメントコンソールまたは API を通じて、OpenSearch Service クラスターを作成。
2. アプリケーションは、OpenSearch API を使って、データをインデックス。
3. ユーザーは、Kibana または OpenSearch Dashboards でデータを検索、分析。
4. OpenSearch Service は、データを複数のノードに分散し、可用性とスケーラビリティを確保。
5. ログやメトリクスは、CloudWatch Logs や CloudWatch Metrics に送信。

Amazon OpenSearch Service は、AWS のインフラ上に構築されており、高い可用性とスケーラビリティを提供する。  
クラスターのプロビジョニングや管理は AWS が行うため、ユーザーはインフラの管理を行う必要はない。

## 4. セキュリティと認証・認可

Amazon OpenSearch Service は、データセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、OpenSearch Service へのアクセスを制御する。
- **VPC 内での実行**: OpenSearch Service クラスターは Virtual Private Cloud (VPC) 内で実行され、ネットワーク隔離を実現。
- **データ暗号化**: データは転送中および保存時に暗号化される。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、OpenSearch Service の操作権限を詳細に制御できる。
- **セキュリティグループ**: ネットワークアクセスをセキュリティグループで制御。

これらのセキュリティ対策により、OpenSearch Service とそのデータを安全に保護する。

## 5. 料金形態

Amazon OpenSearch Service の料金は主に以下に基づく:

- **インスタンス**: クラスターを構成するインスタンスのタイプと数に応じて課金。
- **ストレージ**: データベースで使用されたストレージ容量に応じて課金。
- **データ転送**: データ転送量に応じて課金。
- **スナップショット**: スナップショットの保存容量に応じて課金。

## 6. よくあるアーキテクチャ・設計パターン

Amazon OpenSearch Service は、様々なデータ分析に利用できる。一般的なパターンは以下の通り:

- **Web サイト内検索**: Web サイトのコンテンツをインデックス化し、高速かつ関連性の高い検索機能を提供。
- **アプリケーションログ分析**: アプリケーションログを OpenSearch Service に保存し、エラーやパフォーマンスの問題を分析。
- **セキュリティ情報イベント管理 (SIEM)**: セキュリティ関連のログを OpenSearch Service に収集し、脅威を検出し、セキュリティインシデントを調査。
- **ビジネスインテリジェンス (BI)**: ビジネスデータを OpenSearch Service で分析し、ダッシュボードで可視化。
- **監視ダッシュボード**: インフラストラクチャやアプリケーションのメトリクスを収集し、リアルタイムな監視ダッシュボードを作成。
- **地理空間データ分析**: 地理空間データを OpenSearch Service にインデックス化し、地図ベースのデータ分析を実行。

## 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから Amazon OpenSearch Service を開き、新しいクラスターを作成。
2. インスタンスタイプ、ストレージ、ネットワークなどの設定を構成。
3. データを OpenSearch Service にインデックス。
4. Kibana または OpenSearch Dashboards を起動し、データを可視化。
5. クエリを実行し、データを分析。

## 8. 試験で問われやすいポイント

### 8.1 OpenSearch と Elasticsearch のサポート

- **エンジン**: OpenSearch と Elasticsearch の両方をサポート。
- **利用**: 既存の Elasticsearch クラスターの移行、新しい OpenSearch クラスターの作成。
- **試験対策**: 各エンジンの特徴、移行方法が問われる。

### 8.2 フルマネージドサービス

- **管理対象**: クラスターのプロビジョニング、スケーリング、パッチ適用など。
- **利点**: ユーザーはインフラの管理が不要。
- **試験対策**: フルマネージドのメリット、管理範囲が問われる。

### 8.3 スケーラビリティ

- **機能**: ストレージ容量とコンピューティングリソースを自動的にスケーリング。
- **目的**: データ量の増加やクエリ負荷の変動に対応。
- **試験対策**: スケーリングの仕組み、自動スケーリングの設定が問われる。

### 8.4 高い可用性

- **実現方法**: 複数のアベイラビリティゾーンにデータを複製。
- **目的**: 障害発生時でもアプリケーションの可用性を維持。
- **試験対策**: 可用性の仕組み、複数の AZ 構成が問われる。

### 8.5 Kibana と OpenSearch Dashboards

- **利用**: データ可視化、インタラクティブなダッシュボード作成。
- **ツール**: Kibana (Elasticsearch), OpenSearch Dashboards (OpenSearch)。
- **試験対策**: 各ツールの特徴、データ分析方法が問われる。

### 8.6 料金体系

- **課金対象**: インスタンス、ストレージ、データ転送量、スナップショット。
- **最適化**: 不要なリソースを削除し、適切なインスタンスタイプを選択することでコストを最適化。
- **試験対策**: 料金体系、課金要素が問われる。

### 8.7 類似・関連サービスとの比較

- **Amazon Elasticsearch Service**: Elasticsearch ベースのサービス。OpenSearch Service は OpenSearch もサポート。
- **Amazon CloudSearch**: マネージドの検索サービス。OpenSearch Service はより多様なユースケースに対応。

### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: Amazon OpenSearch Service は何を提供するサービスですか？
  - A: 検索、ログ分析、アプリケーション監視などのユースケースに対応した、フルマネージドの検索・分析エンジンサービスである。
- Q: Amazon OpenSearch Service は、どのようなエンジンをサポートしていますか？
  - A: OpenSearch と Elasticsearch の両方のエンジンをサポートしている。
- Q: Amazon OpenSearch Service のデータを可視化するには、どのようなツールを利用しますか？
  - A: Kibana (Elasticsearch 用) または OpenSearch Dashboards (OpenSearch 用) を利用できる。
- Q: Amazon OpenSearch Service は、どのようにスケーラビリティを実現していますか？
  - A: ストレージ容量とコンピューティングリソースを自動的にスケーリングすることで、スケーラビリティを実現している。
- Q: Amazon OpenSearch Service の料金はどのように計算されますか？
  - A: インスタンスのタイプと数、ストレージ容量、データ転送量、スナップショットなどに基づいて計算される。
