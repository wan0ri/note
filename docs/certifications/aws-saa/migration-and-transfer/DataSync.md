---
title: AWS DataSync
---

## 1. サービス概要

AWS DataSync は、AWS が提供するオンラインデータ転送サービスである。  
オンプレミスストレージ、エッジロケーション、他のクラウドストレージから AWS ストレージサービスへ、またはその逆方向へ、大量データを迅速かつ安全に転送できる。  
DataSync は、データ移行、データ保護、継続的なデータ同期などのユースケースに対応する。

主なユースケースは次の通り。

- オンプレミスから AWS へのデータ移行
- クラウド間のデータ同期
- アクティブアーカイブ
- データリカバリ
- データバックアップ

などが挙げられる。

## 2. 主な特徴と機能

### 2.1 高速なデータ転送

DataSync は、独自の転送プロトコルと最適化された並列処理を利用して、データを高速かつ効率的に転送する。  
これにより、大容量データの移動時間を短縮できる。

### 2.2 様々なストレージサービスのサポート

Amazon S3, Amazon EFS, Amazon FSx, Azure Files, Google Cloud Storage など、様々なストレージサービスをデータソース/ターゲットとしてサポートする。  
これにより、異なる環境間でのデータ転送が容易になる。

### 2.3 エージェントベースのデータ転送

DataSync は、オンプレミス環境やエッジロケーションにデプロイした DataSync エージェントを利用して、データを AWS に転送する。  
エージェントは、データ転送を効率化し、ネットワークを最適化する。

### 2.4 スケジュール実行と自動化

データ転送はスケジュールに基づいて定期実行でき、AWS CloudWatch Events をトリガーとして実行することも可能である。  
これにより、データ同期やバックアップを自動化できる。

### 2.5 暗号化とセキュリティ

DataSync は、転送中および保存時のデータを暗号化し、機密性を保護する。  
IAM によるアクセス制御や VPC 内でのプライベート接続もサポートする。

- **転送中の暗号化**: TLS を使用してデータを暗号化。
- **保存中の暗号化**: AWS KMS を利用してデータを暗号化。
- **IAM 連携**: AWS IAM を使用してアクセス制御と権限管理。
- **VPC サポート**: Amazon VPC 内でのプライベート接続。

### 2.6 メタデータの保存

ファイルシステムのメタデータ (タイムスタンプ、権限、属性など) を保持したままデータを転送できる。  
これにより、データ移行後の整合性を確保できる。

### 2.7 フィルタリング

特定のファイルやフォルダを転送対象から除外するために、フィルタリングルールを設定できる。  
これにより、必要なデータのみを効率的に転送できる。

### 2.8 統合性

DataSync は、AWS の他のサービス (AWS CloudWatch, AWS CloudTrail, Amazon SNS など) と統合されており、データ転送の監視・記録・通知を強化できる。  
AWS Transfer Family と連携し、SFTP/FTPS からのデータ転送を自動化できる。

## 3. アーキテクチャおよび技術要素

1. DataSync エージェントをオンプレミスまたはエッジ環境にデプロイ
2. エージェントがデータソースに接続
3. 定義した転送タスクとスケジュールに従い、データをターゲットへ転送
4. データは転送中および保存時に暗号化
5. CloudWatch で転送状況を監視

DataSync はフルマネージドサービスとして提供され、高い可用性、スケーラビリティ、セキュリティを備える。  
データ転送の複雑さを抽象化し、利用者はデータ移動に集中できる。

## 4. セキュリティと認証・認可

セキュリティは DataSync の重要な要素である。

- **IAM によるアクセス制御**: AWS IAM を利用して、DataSync リソースへのアクセスを制御し、権限を管理。
- **データ暗号化**: 転送中および保存中のデータを暗号化し、データの機密性を保護。
- **VPC サポート**: Amazon VPC 内で DataSync を使用する場合、プライベート接続を確立。
- **監査ログ**: AWS CloudTrail を利用して、API 呼び出しやリソース変更を記録。

これにより、データの安全性とコンプライアンスを確保できる。

## 5. 料金形態

AWS DataSync の料金は主に以下に基づく。

- **データ転送量**: 転送されたデータ量に応じた従量課金。

## 6. よくあるアーキテクチャ・設計パターン

一般的なパターンは以下の通り。

- **オンプレミスから AWS へのデータ移行**: オンプレミスストレージから AWS ストレージサービスへのデータ移行を自動化。
- **クラウド間のデータ同期**: 異なるクラウドプロバイダー間のストレージサービス間でデータを同期。
- **アクティブアーカイブ**: アクティブなデータをプライマリストレージに、非アクティブなデータを低コストなアーカイブストレージに移動。
- **データリカバリ**: オンプレミス環境の障害時に、AWS にバックアップされたデータを復元。
- **データバックアップ**: オンプレミスまたはクラウドのデータを定期的にバックアップ。

## 7. 設定・デプロイ手順（ハンズオン例）

1. AWS コンソールで DataSync エージェントをダウンロードし、オンプレミス環境にデプロイ
2. DataSync コンソールでデータソースとターゲットを設定
3. データ転送タスクを作成し、スケジュールを設定
4. データ転送を実行し、転送状況を監視
5. 転送されたデータの整合性を確認

## 8. 試験で問われやすいポイント

### 8.1 高速なデータ転送

- **プロトコル**: DataSync が利用する転送プロトコルを理解。
- **並列処理**: 並列処理によりデータ転送を高速化している点を理解。

### 8.2 様々なストレージサービスのサポート

- **対応サービス**: S3, EFS, FSx, Azure Files, Google Cloud Storage など、対応するストレージサービスを理解。
- **異なる環境間での転送**: 異なる環境間でのデータ転送を容易にしている点を理解。

### 8.3 エージェントベースのデータ転送

- **エージェント**: オンプレミスやエッジ環境にデプロイする DataSync エージェントを理解。
- **効率化**: エージェントがデータ転送を効率化し、ネットワークの最適化を行うことを理解。

### 8.4 スケジュール実行と自動化

- **スケジュール**: スケジュールに基づいてデータ転送を定期的に実行できることを理解。
- **イベントトリガー**: CloudWatch Events をトリガーとしてデータ転送を実行できることを理解。

### 8.5 料金体系

- **データ転送量**: 転送されたデータ量に応じた従量課金を理解。

### 8.6 類似・関連サービスとの比較

- **AWS Storage Gateway**: オンプレミス環境と AWS ストレージ間のハイブリッドストレージサービス。DataSync はオンラインデータ転送サービス。
- **AWS Transfer Family**: SFTP/FTPS などによるファイル転送サービス。DataSync はオンラインデータ転送に特化。

### 8.7 試験で頻出となる具体的な問われ方と答え

- Q: AWS DataSync の主な用途は？
  - A: オンプレミス、エッジ、他のクラウドから AWS へのデータ転送。
- Q: DataSync はどのようにデータを高速に転送する？
  - A: 独自の転送プロトコルと最適化された並列処理。
- Q: DataSync がサポートするストレージサービスの例は？
  - A: S3, EFS, FSx, Azure Files, Google Cloud Storage など。
- Q: DataSync でオンプレミス環境からデータを転送する方法は？
  - A: DataSync エージェントを利用。
- Q: DataSync のセキュリティ対策は？
  - A: IAM によるアクセス制御、データ暗号化、VPC サポートなど。
- Q: DataSync の料金体系は？
  - A: 転送されたデータ量に応じた従量課金。
- Q: DataSync と Storage Gateway の違いは？
  - A: Storage Gateway はハイブリッドストレージ、DataSync はオンラインデータ転送。
