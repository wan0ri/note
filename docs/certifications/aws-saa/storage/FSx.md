---
title: FSx
---

## 1. サービス概要

Amazon FSx は、Windows ファイルサーバー、高性能な Lustre ファイルシステム、および NetApp ONTAP ベースのファイルシステムを簡単に起動、実行できるフルマネージドサービスである。  
ユーザーは、既存のファイルシステムをクラウドに移行したり、新しいファイルシステムを AWS で作成し、様々なワークロードに対応できる。  
FSx は、高性能、スケーラビリティ、セキュリティを提供し、エンタープライズレベルのファイルストレージを容易に利用できるようにする。

主なユースケースとして、

- Windows ベースのアプリケーション
- 高性能コンピューティング（HPC）
- 機械学習
- メディア処理
- コンテンツリポジトリ
- エンタープライズアプリケーション

などが挙げられる。  
Amazon FSx は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

## 2. 主な特徴と機能

## 2.1 Windows ファイルサーバー (Amazon FSx for Windows File Server)

Windows ファイルサーバーをフルマネージドで提供する。  
ユーザーは、Active Directory と統合し、SMB プロトコルを使用して、Windows アプリケーションからファイルシステムにアクセスできる。

## 2.2 高性能ファイルシステム (Amazon FSx for Lustre)

高性能コンピューティング（HPC）、機械学習、メディア処理などのワークロードに最適な、高性能な Lustre ファイルシステムを提供する。  
高いスループットと低いレイテンシーを実現し、データ集約型のワークロードを高速に処理できる。

## 2.3 NetApp ONTAP ベースのファイルシステム (Amazon FSx for NetApp ONTAP)

業界で広く利用されている NetApp ONTAP をベースにした、エンタープライズレベルのファイルシステムを提供する。  
NetApp ONTAP の機能や API を利用して、ファイルシステムの高度な管理が可能である。

## 2.4 フルマネージドサービス

FSx は、ファイルシステムのプロビジョニング、バックアップ、スケーリング、パッチ適用などの管理を AWS に任せることができる。  
ユーザーは、ファイルシステムの管理に煩わされることなく、アプリケーション開発に集中できる。

## 2.5 スケーラビリティ

FSx は、ストレージ容量とパフォーマンスを自動的にスケーリングできる。  
これにより、ワークロードの変動に対応し、安定したパフォーマンスを提供できる。

## 2.6 データ暗号化

ファイルシステムを暗号化して、保存データを保護できる。  
データは転送中および保存時に暗号化され、セキュリティが確保される。

## 2.7 統合性と拡張性

Amazon FSx は、Amazon EC2, AWS Lambda, AWS Backup, AWS DataSync などの AWS の他のサービスと密接に統合されている。  
また、API を利用して、ファイルシステムの管理を自動化することもできる。

## 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS マネジメントコンソールまたは API を通じて、FSx ファイルシステムを作成。
2. EC2 インスタンスや他の AWS サービスからファイルシステムにアクセス。
3. FSx は、ファイルシステムをストレージとして提供し、データを保存。
4. 必要に応じて、ファイルシステムのスナップショットを作成。
5. 必要に応じて、オンプレミス環境と FSx ファイルシステムを接続。

Amazon FSx は、AWS のインフラ上に構築されており、高い可用性と信頼性を提供する。  
ファイルシステムのプロビジョニングや管理は AWS が行うため、ユーザーはインフラの管理を行う必要はない。

## 4. セキュリティと認証・認可

Amazon FSx は、ファイルシステムのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、FSx へのアクセスを制御する。
- **VPC 内での実行**: FSx ファイルシステムは Virtual Private Cloud (VPC) 内で実行され、ネットワーク隔離を実現。
- **データ暗号化**: データは転送中および保存時に暗号化される。
- **アクセス制御**: Active Directory と連携して、ユーザー認証とアクセス制御を集中管理（FSx for Windows File Server)。
- **セキュリティグループ**: ネットワークアクセスをセキュリティグループで制御。

これらのセキュリティ対策により、ファイルシステムとそのデータを安全に保護する。

## 5. 料金形態

Amazon FSx の料金は主に以下に基づく:

- **ストレージ使用量**: ファイルシステムで使用されたストレージ容量に応じて課金。
- **スループット**: プロビジョニングされたスループット容量に応じて課金。
- **バックアップ**: スナップショットの保存容量に応じて課金。
- **データ転送**: データ転送量に応じて課金。

## 6. よくあるアーキテクチャ・設計パターン

Amazon FSx は、様々なワークロードに利用できる。一般的なパターンは以下の通りである:

- **Windows ベースのアプリケーション**: Windows ファイルサーバー（Amazon FSx for Windows File Server）を利用し、Windows ベースのアプリケーションのファイル共有。
- **高性能コンピューティング (HPC)**: 大量のデータを高速に処理するために、Lustre ファイルシステム（Amazon FSx for Lustre）を利用。
- **機械学習**: 機械学習のデータセットやモデルを保存するために、高性能な Lustre ファイルシステムを利用。
- **メディア処理**: 動画や画像などのメディアファイルを高速に処理するために、Lustre ファイルシステムを利用。
- **コンテンツリポジトリ**: 大量のドキュメントやメディアファイルを保存、管理するために、NetApp ONTAP ベースのファイルシステムを利用。
- **エンタープライズアプリケーション**: SAP などのエンタープライズアプリケーションのファイルストレージとして、NetApp ONTAP ベースのファイルシステムを利用。

## 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから Amazon FSx を開き、新しいファイルシステムを作成。
2. ファイルシステムの種類（Windows, Lustre, NetApp ONTAP）を選択。
3. ファイルシステムの構成（ストレージ容量、スループット、ネットワーク設定など）を設定。
4. EC2 インスタンスや他の AWS サービスからファイルシステムにアクセス。
5. ファイルシステムにデータを保存。
6. 必要に応じて、ファイルシステムのスナップショットを作成。

## 8. 試験で問われやすいポイント

## 8.1 Windows ファイルサーバー (Amazon FSx for Windows File Server)

- **特徴**: Windows ファイルサーバーをフルマネージドで提供。
- **連携**: Active Directory と統合。
- **試験対策**: Windows ファイルサーバーの利用ケース、Active Directory との連携が問われる。

## 8.2 高性能ファイルシステム (Amazon FSx for Lustre)

- **特徴**: 高いスループットと低いレイテンシーを実現する Lustre ファイルシステム。
- **利用ケース**: HPC、機械学習、メディア処理などのワークロード。
- **試験対策**: Lustre ファイルシステムの特徴、利用ケースが問われる。

## 8.3 NetApp ONTAP ベースのファイルシステム (Amazon FSx for NetApp ONTAP)

- **特徴**: エンタープライズレベルのファイルシステム、NetApp ONTAP の機能や API を利用可能。
- **利用**: コンテンツリポジトリ、エンタープライズアプリケーションなど。
- **試験対策**: NetApp ONTAP の特徴、利用ケースが問われる。

## 8.4 フルマネージドサービス

- **管理対象**: ファイルシステムのプロビジョニング、バックアップ、スケーリング、パッチ適用など。
- **委任先**: AWS が担当。
- **試験対策**: フルマネージドのメリット、管理範囲が問われる。

## 8.5 スケーラビリティ

- **機能**: ストレージ容量とパフォーマンスを自動的にスケーリング。
- **目的**: ワークロードの変動に対応。
- **試験対策**: スケーリングの仕組み、メリットが問われる。

## 8.6 料金体系

- **課金対象**: ストレージ使用量、スループット、バックアップ、データ転送量。
- **最適化**: 必要なリソースを適切に選択し、コストを最適化。
- **試験対策**: 料金体系、課金対象が問われる。

## 8.7 類似・関連サービスとの比較

- **Amazon EFS**: 複数の EC2 インスタンスから同時にアクセスできるネットワークファイルシステム。FSx は Windows、Lustre、NetApp ONTAP などのファイルシステムを提供。
- **Amazon S3**: オブジェクトストレージサービス。FSx はファイルシステムとして利用可能。

## 8.8 試験で頻出となる具体的な問われ方と答え

- Q: Amazon FSx は何を提供するサービスですか？
  - A: Windows ファイルサーバー、高性能な Lustre ファイルシステム、および NetApp ONTAP ベースのファイルシステムを簡単に起動、実行できるフルマネージドサービスである。
- Q: Amazon FSx for Windows File Server は、どのような用途に適していますか？
  - A: Windows ベースのアプリケーションのファイル共有に適している。
- Q: Amazon FSx for Lustre は、どのようなワークロードに適していますか？
  - A: 高性能コンピューティング（HPC）、機械学習、メディア処理などのワークロードに適している。
- Q: Amazon FSx for NetApp ONTAP は、どのような特徴を持っていますか？
  - A: 業界で広く利用されている NetApp ONTAP をベースにした、エンタープライズレベルのファイルシステムを提供する。
- Q: Amazon FSx の料金はどのように計算されますか？
  - A: ストレージ使用量、スループット、バックアップ、データ転送量などに基づいて計算される。
