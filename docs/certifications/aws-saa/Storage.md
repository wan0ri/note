---
title: ストレージ
---

## Elastic Block Store (EBS)

### 1. サービス概要

Amazon Elastic Block Store (EBS) は、Amazon EC2 インスタンスで使用するための、スケーラブルで高性能なブロックストレージサービスである。  
ユーザーは、EC2 インスタンスにアタッチできる仮想ハードディスク（EBS ボリューム）を作成し、データの永続的な保存、高速な I/O、データのバックアップ、復元などを行うことができる。  
EBS は、様々なアプリケーションのニーズに対応するための多様なボリュームタイプと、高い可用性、耐久性、セキュリティを提供する。

主なユースケースとして、

- オペレーティングシステムとアプリケーションの保存
- データベースの保存
- Web サーバーのストレージ
- ビッグデータ分析
- コンテナワークロード
- エンタープライズアプリケーション

などが挙げられる。  
Amazon EBS は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 ブロックストレージ

EBS は、EC2 インスタンスにアタッチできるブロックストレージを提供する。  
ブロックストレージは、ファイルシステムのようにデータを管理するのではなく、ブロック単位でデータを管理する。 これにより、OS レベルで直接アクセスでき、高いパフォーマンスを発揮できる。

#### 2.2 多様なボリュームタイプ

EBS は、汎用 SSD（gp2, gp3）、プロビジョンド IOPS SSD（io1, io2）、スループット最適化 HDD（st1）、コールド HDD（sc1）など、様々なニーズに対応したボリュームタイプを提供している。  
これにより、アプリケーションの要件に合わせて、適切なボリュームタイプを選択できる。

#### 2.3 スナップショット

EBS ボリュームのスナップショットを作成できる。 スナップショットは、特定の時点におけるボリュームのバックアップであり、ボリュームの復元や、新しいボリュームの作成に使用できる。  
スナップショットは、増分バックアップであり、変更されたデータのみを保存する。

### 2.4 暗号化

EBS ボリュームを暗号化して、保存データを保護できる。  
EBS ボリュームの暗号化は、作成時または既存のボリュームのスナップショットから作成する際に設定できる。

#### 2.5 ボリュームのサイズ変更

EBS ボリュームのサイズを、オンラインで変更できる。  
これにより、アプリケーションの需要に応じて、ストレージ容量を柔軟に調整できる。

#### 2.6 アタッチ/デタッチ

EBS ボリュームを、EC2 インスタンスにアタッチ/デタッチできる。  
複数のインスタンス間でボリュームを共有することはできませんが、インスタンスの停止や再起動をせずにボリュームをアタッチ/デタッチできる。

#### 2.7 統合性と拡張性

Amazon EBS は、Amazon EC2、AWS Backup、AWS Data Lifecycle Manager、AWS CloudFormation などの AWS の他のサービスと密接に統合されている。  
また、API を利用して、EBS ボリュームの管理を自動化することもできる。

#### 3. アーキテクチャおよび技術要素

1. ユーザーは、EBS ボリュームを作成し、EC2 インスタンスにアタッチ。
2. EC2 インスタンスは、アタッチされた EBS ボリュームをローカルディスクとして利用。
3. 必要に応じて、EBS ボリュームのスナップショットを作成。
4. スナップショットを基に、新しい EBS ボリュームを作成したり、既存のボリュームを復元。
5. 必要に応じて、EBS ボリュームのサイズを変更。

Amazon EBS は、AWS のインフラ上に構築されており、高い可用性と耐久性を提供する。  
ボリュームの作成、管理、バックアップなどは AWS が行うため、ユーザーはインフラの管理を意識する必要はない。

### 4. セキュリティと認証・認可

Amazon EBS は、ストレージのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、EBS ボリュームへのアクセスを制御する。
- **VPC 内での実行**: EBS ボリュームは Virtual Private Cloud (VPC) 内で実行され、ネットワーク隔離を実現。
- **データ暗号化**: EBS ボリュームおよびスナップショットは、転送中および保存時に暗号化できる。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、EBS ボリュームの操作権限を詳細に制御できる。

これらのセキュリティ対策により、EBS ボリュームとそのデータを安全に保護する。

### 5. 料金形態

Amazon EBS の料金は主に以下に基づく:

- **ボリューム**: EBS ボリュームのプロビジョニングされたストレージ容量に応じて課金。
- **スナップショット**: EBS スナップショットの保存容量に応じて課金。
- **データ転送**: データ転送量に応じて課金。
- **IOPS**: プロビジョンド IOPS SSD (io1, io2) の場合、プロビジョニングされた IOPS 数に応じて課金。

### 6. よくあるアーキテクチャ・設計パターン

Amazon EBS は、様々なアプリケーションのストレージとして利用できる。  
一般的なパターンは以下の通りである:

- **オペレーティングシステムとアプリケーションの保存**: EC2 インスタンスのルートボリュームとして、オペレーティングシステムやアプリケーションを保存。
- **データベースの保存**: データベースサーバーのストレージとして、EBS ボリュームを利用し、パフォーマンスと耐久性を確保。
- **Web サーバーのストレージ**: Web サーバーのコンテンツやログを保存するために EBS ボリュームを利用。
- **ビッグデータ分析**: 大量のデータを処理するためのストレージとして、EBS ボリュームを使用。
- **コンテナワークロード**: コンテナの永続的なストレージとして、EBS ボリュームを利用。
- **エンタープライズアプリケーション**: 大規模なエンタープライズアプリケーションのストレージとして、EBS ボリュームを利用。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから Amazon EC2 を開き、EBS ボリュームを作成。
2. 作成した EBS ボリュームを EC2 インスタンスにアタッチ。
3. EC2 インスタンス内で、アタッチしたボリュームをマウント。
4. EBS ボリュームのスナップショットを作成。
5. 必要に応じて、スナップショットから新しいボリュームを作成。
6. 必要に応じて、EBS ボリュームのサイズを変更。

### 8. 試験で問われやすいポイント

#### 8.1 ブロックストレージ

- **特徴**: ブロック単位でデータを管理。
- **利用**: EC2 インスタンスにアタッチして、ローカルディスクとして利用。
- **試験対策**: ブロックストレージの基本概念、利用方法が問われる。

#### 8.2 多様なボリュームタイプ

- **種類**: 汎用 SSD (gp2, gp3), プロビジョンド IOPS SSD (io1, io2), スループット最適化 HDD (st1), コールド HDD (sc1)。
- **選択**: アプリケーションの要件に合わせて適切なボリュームタイプを選択。
- **試験対策**: 各ボリュームタイプの特徴、利用ケースが問われる。

#### 8.3 スナップショット

- **機能**: 特定の時点におけるボリュームのバックアップ。
- **利用**: ボリュームの復元や、新しいボリュームの作成。
- **試験対策**: スナップショットの仕組み、増分バックアップが問われる。

#### 8.4 暗号化

- **機能**: EBS ボリュームを暗号化して、保存データを保護。
- **設定**: 作成時またはスナップショットからの作成時に設定。
- **試験対策**: 暗号化の設定方法、データ保護が問われる。

#### 8.5 ボリュームのサイズ変更

- **機能**: EBS ボリュームのサイズをオンラインで変更可能。
- **目的**: アプリケーションの需要に応じて、ストレージ容量を柔軟に調整。
- **試験対策**: オンラインでのサイズ変更、メリットが問われる。

#### 8.6 料金体系

- **課金対象**: プロビジョニングされたストレージ容量、スナップショットの保存容量、データ転送量、プロビジョンド IOPS (io1, io2)。
- **最適化**: 不要なスナップショットの削除、適切なボリュームタイプの選択がコスト削減に有効。
- **試験対策**: 料金体系、課金対象が問われる。

#### 8.7 類似・関連サービスとの比較

- **Amazon S3**: オブジェクトストレージサービス。EBS はブロックストレージを提供。
- **Amazon EFS**: ネットワークファイルシステムサービス。EBS は EC2 インスタンスにアタッチするブロックストレージ。

#### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: Amazon EBS は何を提供するサービスですか？
  - A: Amazon EC2 インスタンスで使用するための、スケーラブルで高性能なブロックストレージサービスである。
- Q: Amazon EBS で利用できるボリュームタイプは何ですか？
  - A: 汎用 SSD (gp2, gp3), プロビジョンド IOPS SSD (io1, io2), スループット最適化 HDD (st1), コールド HDD (sc1)などがある。
- Q: Amazon EBS のスナップショットは何に使用できますか？
  - A: 特定の時点におけるボリュームのバックアップとして、ボリュームの復元や、新しいボリュームの作成に使用できる。
- Q: Amazon EBS のボリュームはどのように暗号化できますか？
  - A: EBS ボリュームの暗号化は、作成時または既存のボリュームのスナップショットから作成する際に設定できる。
- Q: Amazon EBS の料金はどのように計算されますか？
  - A: EBS ボリュームのプロビジョニングされたストレージ容量、スナップショットの保存容量、データ転送量、プロビジョンド IOPS などに基づいて計算される。

---

## Elastic File System (EFS)

### 1. サービス概要

Amazon Elastic File System (EFS) は、複数の Amazon EC2 インスタンスから同時にアクセスできる、シンプルでスケーラブルなフルマネージドのネットワークファイルシステムである。  
ユーザーは、サーバーレスアプリケーション、コンテナ、ビッグデータ分析、Web サーバーなど、様々なワークロードで利用できる共有ファイルシステムを作成し、データを共有できる。  
EFS は、ファイルストレージの管理を簡素化し、複数の EC2 インスタンス間でデータの整合性を維持する。

主なユースケースとして、

- Web アプリケーションのコンテンツ共有
- ビッグデータ分析
- コンテナワークロードの永続ストレージ
- メディア処理
- 機械学習のワークロード
- コンテンツ管理システム

などが挙げられる。  
Amazon EFS は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 ネットワークファイルシステム

EFS は、複数の EC2 インスタンスから同時にアクセスできるネットワークファイルシステムを提供する。  
これにより、複数のサーバー間でデータを共有し、アプリケーションの可用性と拡張性を高めることができる。

#### 2.2 フルマネージドサービス

EFS は、ファイルシステムのプロビジョニング、バックアップ、スケーリングなどの管理を AWS に任せることができる。  
ユーザーは、ファイルシステムの管理に煩わされることなく、アプリケーション開発に集中できる。

#### 2.3 スケーラビリティ

EFS は、需要に応じてストレージ容量とパフォーマンスを自動的にスケーリングする。  
これにより、アプリケーションのデータ量やトラフィックの変動に対応できる。

#### 2.4 パフォーマンスモード

EFS には、汎用と最大 I/O という 2 つのパフォーマンスモードがある。  
汎用モードは、幅広いワークロードに適しており、最大 I/O モードは、高いスループットと IOPS を必要とするワークロードに適している。

#### 2.5 ストレージクラス

EFS は、標準と低頻度アクセスという 2 つのストレージクラスを提供している。  
標準クラスは、頻繁にアクセスされるデータに適しており、低頻度アクセス（IA）クラスは、あまりアクセスされないデータに適している。

#### 2.6 暗号化

EFS ファイルシステムを暗号化して、保存データを保護できる。  
EFS の暗号化は、作成時または既存のファイルシステムの設定変更時に設定できる。

#### 2.7 統合性と拡張性

Amazon EFS は、Amazon EC2, AWS Lambda, AWS Fargate, AWS Backup, AWS DataSync などの AWS の他のサービスと密接に統合されている。  
また、API を利用して、EFS ファイルシステムの管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、Amazon EFS ファイルシステムを作成し、EC2 インスタンスからマウント。
2. 複数の EC2 インスタンスが同時に、同一の EFS ファイルシステムにアクセスし、データの共有。
3. 必要に応じて、EFS ファイルシステムのスナップショットを作成。
4. 必要に応じて、異なる可用性ゾーンにある EC2 インスタンスから EFS ファイルシステムにアクセス。
5. データは、EFS ファイルシステムに保存され、スケーラビリティと耐久性が確保。

Amazon EFS は、AWS のインフラ上に構築されており、高い可用性と耐久性を提供する。  
ファイルシステムのプロビジョニングや管理は AWS が行うため、ユーザーはインフラの管理を意識する必要はない。

### 4. セキュリティと認証・認可

Amazon EFS は、ファイルシステムのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、EFS へのアクセスを制御する。
- **VPC 内での実行**: EFS は Virtual Private Cloud (VPC) 内で実行され、ネットワーク隔離を実現。
- **データ暗号化**: データは転送中および保存時に暗号化される。
- **NFS アクセス制御**: Network File System (NFS) のアクセス制御リスト (ACL) を利用して、ファイルシステムへのアクセスを制御。
- **セキュリティグループ**: ネットワークアクセスをセキュリティグループで制御。

これらのセキュリティ対策により、ファイルシステムとそのデータを安全に保護する。

### 5. 料金形態

Amazon EFS の料金は主に以下に基づく:

- **ストレージ使用量**: ファイルシステムで使用されたストレージ容量に応じて課金。
- **データ転送**: データ転送量に応じて課金。
- **ストレージクラス**: 標準クラスと低頻度アクセス（IA）クラスで料金が異なる。
- **スループット**: プロビジョニングされたスループット容量に応じて課金。

### 6. よくあるアーキテクチャ・設計パターン

Amazon EFS は、様々なワークロードに利用できる。一般的なパターンは以下の通りである:

- **Web アプリケーションのコンテンツ共有**: Web アプリケーションの静的コンテンツやアップロードファイルを、複数の EC2 インスタンスで共有。
- **ビッグデータ分析**: ビッグデータ分析のために、複数の EC2 インスタンスで共通のデータセットを共有。
- **コンテナワークロードの永続ストレージ**: コンテナ化されたアプリケーションの永続的なストレージとして、EFS を利用。
- **メディア処理**: 動画や画像などのメディアファイルを、複数のインスタンスで共有し、編集、変換などの処理を実行。
- **機械学習のワークロード**: 機械学習モデルや学習データを共有し、複数のインスタンスで学習や推論を実行。
- **コンテンツ管理システム**: コンテンツ管理システムのコンテンツを EFS に保存し、複数のサーバーで共有。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから Amazon EFS を開き、新しいファイルシステムを作成。
2. EC2 インスタンスから EFS ファイルシステムをマウント。
3. ファイルシステムにデータを保存。
4. 必要に応じて、EFS ファイルシステムのスナップショットを作成。
5. 必要に応じて、異なる EC2 インスタンスから EFS ファイルシステムにアクセス。

### 8. 試験で問われやすいポイント

#### 8.1 ネットワークファイルシステム

- **特徴**: 複数の EC2 インスタンスから同時にアクセス可能。
- **利用**: 複数サーバー間でのデータ共有。
- **試験対策**: ネットワークファイルシステムの基本概念、利用方法が問われる。

#### 8.2 フルマネージドサービス

- **管理**: ファイルシステムのプロビジョニング、バックアップ、スケーリングなどを AWS が担当。
- **利点**: ユーザーはファイルシステムの管理に煩わされることなく、アプリケーション開発に集中。
- **試験対策**: フルマネージドのメリット、管理範囲が問われる。

#### 8.3 スケーラビリティ

- **機能**: ストレージ容量とパフォーマンスを自動的にスケーリング。
- **目的**: データ量やトラフィックの変動に対応。
- **試験対策**: スケーリングの仕組み、メリットが問われる。

#### 8.4 パフォーマンスモード

- **種類**: 汎用と最大 I/O。
- **選択**: ワークロードに合わせて適切なパフォーマンスモードを選択。
- **試験対策**: 各パフォーマンスモードの特徴、利用ケースが問われる。

#### 8.5 ストレージクラス

- **種類**: 標準と低頻度アクセス（IA）。
- **利用**: データアクセス頻度に合わせて適切なストレージクラスを選択。
- **試験対策**: 各ストレージクラスの特徴、利用ケースが問われる。

#### 8.6 料金体系

- **課金対象**: ストレージ使用量、データ転送量、ストレージクラス、スループット。
- **最適化**: ストレージクラス、スループットを適切に選択することでコストを最適化。
- **試験対策**: 料金体系、課金対象が問われる。

#### 8.7 類似・関連サービスとの比較

- **Amazon EBS**: EC2 インスタンスにアタッチするブロックストレージサービス。EFS はネットワークファイルシステム。
- **Amazon S3**: オブジェクトストレージサービス。EFS はファイルレベルのアクセスを提供する。

#### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: Amazon EFS は何を提供するサービスですか？
  - A: 複数の Amazon EC2 インスタンスから同時にアクセスできる、シンプルでスケーラブルなフルマネージドのネットワークファイルシステムである。
- Q: Amazon EFS では、どのようなパフォーマンスモードが利用できますか？
  - A: 汎用と最大 I/O の 2 つのパフォーマンスモードが利用できる。
- Q: Amazon EFS のストレージクラスは何ですか？
  - A: 標準と低頻度アクセス（IA）の 2 つのストレージクラスがある。
- Q: Amazon EFS のファイルシステムへのアクセスはどのように制御しますか？
  - A: IAM ポリシー、NFS アクセス制御リスト (ACL)、セキュリティグループを使用して制御する。
- Q: Amazon EFS の料金はどのように計算されますか？
  - A: ストレージ使用量、データ転送量、ストレージクラス、プロビジョニングされたスループット容量などに基づいて計算される。

---

## FSx

### 1. サービス概要

Amazon FSx は、Windows ファイルサーバー、高性能な Lustre ファイルシステム、および NetApp ONTAP ベースのファイルシステムを簡単に起動、実行できるフルマネージドサービスである。  
ユーザーは、既存のファイルシステムをクラウドに移行したり、新しいファイルシステムを AWS で作成し、様々なワークロードに対応できる。  
FSx は、高性能、スケーラビリティ、セキュリティを提供し、エンタープライズレベルのファイルストレージを容易に利用できるようにする。

主なユースケースとして、

- Windows ベースのアプリケーション
- 高性能コンピューティング（HPC）
- 機械学習
- メディア処理
- コンテンツリポジトリ
- エンタープライズアプリケーション

などが挙げられる。  
Amazon FSx は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 Windows ファイルサーバー (Amazon FSx for Windows File Server)

Windows ファイルサーバーをフルマネージドで提供する。  
ユーザーは、Active Directory と統合し、SMB プロトコルを使用して、Windows アプリケーションからファイルシステムにアクセスできる。

#### 2.2 高性能ファイルシステム (Amazon FSx for Lustre)

高性能コンピューティング（HPC）、機械学習、メディア処理などのワークロードに最適な、高性能な Lustre ファイルシステムを提供する。  
高いスループットと低いレイテンシーを実現し、データ集約型のワークロードを高速に処理できる。

#### 2.3 NetApp ONTAP ベースのファイルシステム (Amazon FSx for NetApp ONTAP)

業界で広く利用されている NetApp ONTAP をベースにした、エンタープライズレベルのファイルシステムを提供する。  
NetApp ONTAP の機能や API を利用して、ファイルシステムの高度な管理が可能である。

#### 2.4 フルマネージドサービス

FSx は、ファイルシステムのプロビジョニング、バックアップ、スケーリング、パッチ適用などの管理を AWS に任せることができる。  
ユーザーは、ファイルシステムの管理に煩わされることなく、アプリケーション開発に集中できる。

#### 2.5 スケーラビリティ

FSx は、ストレージ容量とパフォーマンスを自動的にスケーリングできる。  
これにより、ワークロードの変動に対応し、安定したパフォーマンスを提供できる。

#### 2.6 データ暗号化

ファイルシステムを暗号化して、保存データを保護できる。  
データは転送中および保存時に暗号化され、セキュリティが確保される。

#### 2.7 統合性と拡張性

Amazon FSx は、Amazon EC2, AWS Lambda, AWS Backup, AWS DataSync などの AWS の他のサービスと密接に統合されている。  
また、API を利用して、ファイルシステムの管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS マネジメントコンソールまたは API を通じて、FSx ファイルシステムを作成。
2. EC2 インスタンスや他の AWS サービスからファイルシステムにアクセス。
3. FSx は、ファイルシステムをストレージとして提供し、データを保存。
4. 必要に応じて、ファイルシステムのスナップショットを作成。
5. 必要に応じて、オンプレミス環境と FSx ファイルシステムを接続。

Amazon FSx は、AWS のインフラ上に構築されており、高い可用性と信頼性を提供する。  
ファイルシステムのプロビジョニングや管理は AWS が行うため、ユーザーはインフラの管理を行う必要はない。

### 4. セキュリティと認証・認可

Amazon FSx は、ファイルシステムのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、FSx へのアクセスを制御する。
- **VPC 内での実行**: FSx ファイルシステムは Virtual Private Cloud (VPC) 内で実行され、ネットワーク隔離を実現。
- **データ暗号化**: データは転送中および保存時に暗号化される。
- **アクセス制御**: Active Directory と連携して、ユーザー認証とアクセス制御を集中管理（FSx for Windows File Server)。
- **セキュリティグループ**: ネットワークアクセスをセキュリティグループで制御。

これらのセキュリティ対策により、ファイルシステムとそのデータを安全に保護する。

### 5. 料金形態

Amazon FSx の料金は主に以下に基づく:

- **ストレージ使用量**: ファイルシステムで使用されたストレージ容量に応じて課金。
- **スループット**: プロビジョニングされたスループット容量に応じて課金。
- **バックアップ**: スナップショットの保存容量に応じて課金。
- **データ転送**: データ転送量に応じて課金。

### 6. よくあるアーキテクチャ・設計パターン

Amazon FSx は、様々なワークロードに利用できる。一般的なパターンは以下の通りである:

- **Windows ベースのアプリケーション**: Windows ファイルサーバー（Amazon FSx for Windows File Server）を利用し、Windows ベースのアプリケーションのファイル共有。
- **高性能コンピューティング (HPC)**: 大量のデータを高速に処理するために、Lustre ファイルシステム（Amazon FSx for Lustre）を利用。
- **機械学習**: 機械学習のデータセットやモデルを保存するために、高性能な Lustre ファイルシステムを利用。
- **メディア処理**: 動画や画像などのメディアファイルを高速に処理するために、Lustre ファイルシステムを利用。
- **コンテンツリポジトリ**: 大量のドキュメントやメディアファイルを保存、管理するために、NetApp ONTAP ベースのファイルシステムを利用。
- **エンタープライズアプリケーション**: SAP などのエンタープライズアプリケーションのファイルストレージとして、NetApp ONTAP ベースのファイルシステムを利用。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから Amazon FSx を開き、新しいファイルシステムを作成。
2. ファイルシステムの種類（Windows, Lustre, NetApp ONTAP）を選択。
3. ファイルシステムの構成（ストレージ容量、スループット、ネットワーク設定など）を設定。
4. EC2 インスタンスや他の AWS サービスからファイルシステムにアクセス。
5. ファイルシステムにデータを保存。
6. 必要に応じて、ファイルシステムのスナップショットを作成。

### 8. 試験で問われやすいポイント

#### 8.1 Windows ファイルサーバー (Amazon FSx for Windows File Server)

- **特徴**: Windows ファイルサーバーをフルマネージドで提供。
- **連携**: Active Directory と統合。
- **試験対策**: Windows ファイルサーバーの利用ケース、Active Directory との連携が問われる。

#### 8.2 高性能ファイルシステム (Amazon FSx for Lustre)

- **特徴**: 高いスループットと低いレイテンシーを実現する Lustre ファイルシステム。
- **利用ケース**: HPC、機械学習、メディア処理などのワークロード。
- **試験対策**: Lustre ファイルシステムの特徴、利用ケースが問われる。

#### 8.3 NetApp ONTAP ベースのファイルシステム (Amazon FSx for NetApp ONTAP)

- **特徴**: エンタープライズレベルのファイルシステム、NetApp ONTAP の機能や API を利用可能。
- **利用**: コンテンツリポジトリ、エンタープライズアプリケーションなど。
- **試験対策**: NetApp ONTAP の特徴、利用ケースが問われる。

#### 8.4 フルマネージドサービス

- **管理対象**: ファイルシステムのプロビジョニング、バックアップ、スケーリング、パッチ適用など。
- **委任先**: AWS が担当。
- **試験対策**: フルマネージドのメリット、管理範囲が問われる。

#### 8.5 スケーラビリティ

- **機能**: ストレージ容量とパフォーマンスを自動的にスケーリング。
- **目的**: ワークロードの変動に対応。
- **試験対策**: スケーリングの仕組み、メリットが問われる。

#### 8.6 料金体系

- **課金対象**: ストレージ使用量、スループット、バックアップ、データ転送量。
- **最適化**: 必要なリソースを適切に選択し、コストを最適化。
- **試験対策**: 料金体系、課金対象が問われる。

#### 8.7 類似・関連サービスとの比較

- **Amazon EFS**: 複数の EC2 インスタンスから同時にアクセスできるネットワークファイルシステム。FSx は Windows、Lustre、NetApp ONTAP などのファイルシステムを提供。
- **Amazon S3**: オブジェクトストレージサービス。FSx はファイルシステムとして利用可能。

#### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: Amazon FSx は何を提供するサービスですか？
  - A: Windows ファイルサーバー、高性能な Lustre ファイルシステム、および NetApp ONTAP ベースのファイルシステムを簡単に起動、実行できるフルマネージドサービスである。
- Q: Amazon FSx for Windows File Server は、どのような用途に適していますか？
  - A: Windows ベースのアプリケーションのファイル共有に適している。
- Q: Amazon FSx for Lustre は、どのようなワークロードに適していますか？
  - A: 高性能コンピューティング（HPC）、機械学習、メディア処理などのワークロードに適している。
- Q: Amazon FSx for NetApp ONTAP は、どのような特徴を持っていますか？
  - A: 業界で広く利用されている NetApp ONTAP をベースにした、エンタープライズレベルのファイルシステムを提供する。
- Q: Amazon FSx の料金はどのように計算されますか？
  - A: ストレージ使用量、スループット、バックアップ、データ転送量などに基づいて計算される。

---

## S3 Glacier

### 1. サービス概要

Amazon S3 Glacier は、あまりアクセスされないデータを長期的に、安全かつ低コストでアーカイブするためのストレージサービスである。  
ユーザーは、バックアップ、コンプライアンス、災害対策などの目的で、大量のデータを S3 Glacier に保存できる。  
S3 Glacier は、データの耐久性、セキュリティ、スケーラビリティを提供し、長期データアーカイブのニーズに対応する。

主なユースケースとして、

- バックアップデータのアーカイブ
- コンプライアンス要件を満たすためのデータ保持
- 災害復旧データの保存
- 長期的なログデータの保存
- メディアコンテンツのアーカイブ

などが挙げられる。  
Amazon S3 Glacier は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 1. 主な特徴と機能

#### 2.1 長期アーカイブストレージ

S3 Glacier は、あまりアクセスされないデータを長期的に保存するためのストレージサービスである。  
これにより、コストを抑えながら、データの長期保存を実現できる。

#### 2.2 低コストストレージ

S3 Glacier は、他のストレージサービスと比較して、非常に低いストレージ料金を提供する。  
これにより、大量のデータを低コストでアーカイブできる。

#### 2.3 データ検索オプション

S3 Glacier には、柔軟な取り出しと大容量取り出しという 2 つのデータ検索オプションがある。  
柔軟な取り出しは、数分から数時間でデータを取り出すことができ、大容量取り出しは、より低コストで大量のデータを取り出すことができる。

#### 2.4 ストレージクラス

S3 Glacier には、Glacier Flexible Retrieval と Glacier Deep Archive の 2 つのストレージクラスがある。  
Glacier Flexible Retrieval は、比較的頻繁にアクセスされるアーカイブデータに適しており、Glacier Deep Archive は、年に数回しかアクセスされない、最も低コストなアーカイブストレージである。

#### 2.5 データの耐久性

S3 Glacier は、99.999999999%のデータの耐久性を提供する。  
これにより、データ損失のリスクを最小限に抑え、安心してデータを長期保存できる。

#### 2.6 データセキュリティ

データは転送中および保存時に暗号化され、アクセス制御リスト (ACL)や IAM ポリシーを使用して、アクセス権限を制御できる。  
これにより、データを安全に保護できる。

#### 2.7 統合性と拡張性

Amazon S3 Glacier は、S3、AWS Backup、AWS Data Lifecycle Manager, AWS Storage Gateway などの AWS の他のサービスと密接に統合されており、様々なワークフローに対応できる。  
また、API を利用して、データ管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、S3 バケットから S3 Glacier ボールトにデータをアーカイブ。
2. S3 Glacier は、データを安全に保存。
3. 必要に応じて、データを取り出すリクエストを発行。
4. S3 Glacier は、リクエストに応じて、データを取り出し、一時的な S3 バケットに保存。
5. ユーザーは、S3 バケットからデータを取り出し。

Amazon S3 Glacier は、AWS のインフラ上に構築されており、高い可用性と耐久性を提供する。  
データアーカイブ、管理、取り出しは AWS が行うため、ユーザーはインフラの管理を行う必要はない。

### 4. セキュリティと認証・認可

Amazon S3 Glacier は、データのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、S3 Glacier へのアクセスを制御する。
- **データ暗号化**: データは転送中および保存時に暗号化される。
- **アクセス制御リスト (ACL)**: ACL を使用して、オブジェクトごとのアクセス権限を制御できる。
- **VPC エンドポイント**: VPC 内から S3 Glacier にアクセスする際に、インターネットを経由せずにアクセスできる。
- **バージョニング**: S3 のバージョニング機能を有効にすることで、データを誤って削除した場合でも復元できる。

これらのセキュリティ対策により、アーカイブデータへの不正アクセスを防止し、機密情報を保護できる。

### 5. 料金形態

Amazon S3 Glacier の料金は主に以下に基づく:

- **ストレージ**: 保存されたデータ量に応じて課金。
- **データ検索**: データを取り出す際に料金が発生。
- **データ転送**: データ転送量に応じて課金。
- **リクエスト**: リクエスト数に応じて課金。
- **ストレージクラス**: Glacier Flexible Retrieval と Glacier Deep Archive で料金が異なる。

### 6. よくあるアーキテクチャ・設計パターン

Amazon S3 Glacier は、様々なデータアーカイブに利用できる。一般的なパターンは以下の通りである:

- **バックアップデータのアーカイブ**: 定期的なバックアップデータを S3 Glacier にアーカイブし、災害対策やデータ復旧に備える。
- **コンプライアンス要件を満たすためのデータ保持**: 法規制や業界規制に従って、データを長期的に S3 Glacier に保存。
- **災害復旧データの保存**: 災害発生時に必要となるデータを S3 Glacier に保存し、必要な時に復旧。
- **長期的なログデータの保存**: アプリケーションやシステムのログデータを S3 Glacier に保存し、監査や分析に利用。
- **メディアコンテンツのアーカイブ**: 動画、画像、音声などのメディアコンテンツを S3 Glacier にアーカイブ。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから Amazon S3 を開き、S3 バケットを作成。
2. S3 ライフサイクルポリシーを設定し、オブジェクトを S3 Glacier に移行するルールを設定。
3. S3 バケットにオブジェクトをアップロード。
4. ライフサイクルポリシーに従い、オブジェクトが S3 Glacier に移行。
5. S3 Glacier からオブジェクトを取り出すリクエストを発行。
6. S3 バケットからオブジェクトをダウンロード。

### 8. 試験で問われやすいポイント

#### 8.1 長期アーカイブストレージ

- **特徴**: あまりアクセスされないデータを長期的に保存。
- **利用**: バックアップ、コンプライアンス、災害対策など。
- **試験対策**: 長期アーカイブストレージの目的、利用ケースが問われる。

#### 8.2 低コストストレージ

- **特徴**: 他のストレージサービスと比較して、非常に低いストレージ料金。
- **目的**: 大量のデータを低コストでアーカイブ。
- **試験対策**: 低コストのメリット、料金体系が問われる。

#### 8.3 データ検索オプション

- **種類**: 柔軟な取り出し、大容量取り出し。
- **速度**: 柔軟な取り出しは数分から数時間、大容量取り出しはより低コストで大量データを取得。
- **試験対策**: 各オプションの特徴、利用ケースが問われる。

#### 8.4 ストレージクラス

- **種類**: Glacier Flexible Retrieval、Glacier Deep Archive。
- **選択**: データアクセス頻度に合わせて適切なストレージクラスを選択。
- **試験対策**: 各ストレージクラスの特徴、料金の違いが問われる。

#### 8.5 データの耐久性

- **耐久性**: 99.999999999%。
- **目的**: データ損失のリスクを最小限に抑える。
- **試験対策**: 高い耐久性の重要性が問われる。

#### 8.6 料金体系

- **課金対象**: ストレージ、データ検索、データ転送、リクエスト。
- **最適化**: 適切なストレージクラス、データ検索オプションを選択することでコストを最適化。
- **試験対策**: 料金体系、課金対象が問われる。

#### 8.7 類似・関連サービスとの比較

- **Amazon S3**: オブジェクトストレージサービス。Glacier は長期アーカイブに特化。
- **Amazon S3 Standard/IA**: S3 のストレージクラス。Glacier はより低コストで長期保存が可能。

#### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: Amazon S3 Glacier は何を目的としたサービスですか？
  - A: あまりアクセスされないデータを長期的に、安全かつ低コストでアーカイブするためのストレージサービスである。
- Q: Amazon S3 Glacier のデータ検索オプションは何ですか？
  - A: 柔軟な取り出しと大容量取り出しの 2 つのオプションがある。
- Q: Amazon S3 Glacier のストレージクラスは何ですか？
  - A: Glacier Flexible Retrieval と Glacier Deep Archive の 2 つのストレージクラスがある。
- Q: Amazon S3 Glacier のデータ耐久性はどのくらいですか？
  - A: 99.999999999%のデータの耐久性を提供する。
- Q: Amazon S3 Glacier の料金はどのように計算されますか？
  - A: ストレージ、データ検索、データ転送、リクエスト、ストレージクラスに基づいて計算される。

---

## Simple Storage Service (S3)

### 1. サービス概要

Amazon Simple Storage Service (S3)は、インターネット規模で高い耐久性・可用性・スケーラビリティを提供するオブジェクトストレージサービス。
任意のデータ(画像、動画、ログファイル、バックアップなど)を格納し、Web 経由でアクセス可能。
事実上無制限のスケールアウト、99.999999999% (11 ナイン)の耐久性、地域冗長を実現している。

主なユースケースには、

- バックアップ・アーカイブ、
- 静的ウェブサイトホスティング、
- ビッグデータ分析基盤のストレージ、
- メディア配信

などがある。

### 2. 主な特徴と機能

#### 2.1 ストレージクラス

Amazon S3 はアクセス頻度やデータ保持ポリシーに応じて複数のストレージクラスを提供する。

- **S3 Standard**: 頻繁アクセス向け、低遅延高スループット。
- **S3 Intelligent-Tiering**: アクセスパターンに応じて自動的に最適コスト層にデータを移動。
- **S3 Standard-IA / S3 One Zone-IA**: 低頻度アクセスデータ向け、取り出し頻度が少ないが即時アクセス必要な場合に最適。
- **S3 Glacier / Glacier Deep Archive**: アーカイブ用途。取り出しに数分～数時間かかるが、極めて低コスト。

#### 2.2 バケットとオブジェクト

データは「バケット」と呼ばれるコンテナに格納される。
バケット内にオブジェクト(ファイル)を保存し、キー（パスのような文字列）でアクセスする。
バケット名はグローバルユニークで、リージョン単位でデータが冗長化される。

#### 2.3 バージョニングとライフサイクル管理

バージョニングを有効にすることで、オブジェクト更新履歴を保持可能。
ライフサイクルポリシーを使うと、一定期間後にストレージクラスをより低コスト層へ自動移行したり、削除したりできる。

#### 2.4 暗号化とセキュリティ

保存時暗号化(SSE-S3, SSE-KMS)、クライアント側暗号化、トランジット時の HTTPS 利用など、総合的なセキュリティを提供。
アクセスコントロールには IAM ポリシー、バケットポリシー、ACL、S3 Access Point などの手法が活用できる。

#### 2.5 イベント通知と統合

S3 のオブジェクト操作(作成、削除)をトリガーに、Amazon SQS、SNS、AWS Lambda へイベント通知可能。
データアクセスログ、サーバーアクセスログ、S3 Inventory による監査と可視化も可能。

### 3. アーキテクチャおよび技術要素

1. クライアントが S3 API や SDK、CLI を介してオブジェクトを PUT/GET。
2. データは複数 AZ に冗長保存され高耐久性を確保。
3. 必要に応じてバージョニング、レプリケーション（クロスリージョンレプリケーション）、ライフサイクルポリシーでデータ管理。
4. アクセスは IAM、バケットポリシー、Access Points によって制御。
5. 暗号化とログ機能でセキュリティとコンプライアンスニーズに対応。

完全マネージドで、大規模データ分の拡張も自動的に対応。

### 4. セキュリティと認証・認可

- **IAM ポリシー**: ユーザやロールに対して S3 リソースへのアクセス権限を付与/制限。
- **バケットポリシー**: バケット単位でアクセス制御。特定 IP アドレス制限やクロスアカウントアクセス許可など。
- **アクセスコントロールリスト(ACL)**: より粗い粒度での権限設定（非推奨傾向）。
- **SSE-S3 / SSE-KMS 暗号化**: SSE-S3 は AWS 管理キー、SSE-KMS は顧客管理キーで暗号化。
- **VPC エンドポイント**: パブリックインターネットを経由せずに VPC から S3 へプライベート接続。

### 5. 料金形態

Amazon S3 は主に以下に基づく従量課金モデル:

- **ストレージ使用量**: GB/月単位で料金が発生。ストレージクラスにより単価は異なる。
- **リクエスト数**: PUT、GET、LIST リクエストなど、要求回数に応じて課金。
- **データ転送料**: リージョン外へのデータ転送時に別途料金発生。
- **オプション機能**: S3 Inventory、Replicas の転送、S3 Batch Operations などで追加コスト。

### 6. よくあるアーキテクチャ・設計パターン

- **静的ウェブホスティング**: S3 に静的ファイルを格納し、CloudFront で CDN 配信。
- **ビッグデータ基盤**: S3 をデータレイクとして活用し、Athena や EMR、Redshift Spectrum で解析。
- **バックアップ・アーカイブ**: 定期バックアップ、ライフサイクル管理による低コストアーカイブ。
- **マルチリージョンレプリケーション**: グローバル分散、災害対策で CRR（Cross-Region Replication）を利用。

### 7. 設定・デプロイ手順（ハンズオン例）

1. S3 コンソールで新規バケットを作成（バケット名、リージョン指定）。
2. 暗号化設定やパブリックブロック設定などのオプションを選択。
3. オブジェクトをアップロード（GUI、CLI、SDK）。
4. 必要に応じてバケットポリシーや IAM ポリシーでアクセス制御。
5. ライフサイクルポリシーやバージョニング、イベント通知、Inventory を有効化して管理性・コスト最適化を高める。

### 8. 試験で問われやすいポイント

#### 8.1 ストレージクラス選択

- Q: 高頻度アクセスで低遅延が必要な場合は？
  - A: S3 Standard。
- Q: アクセス頻度が不明・変動する場合、コスト最適化は？
  - A: S3 Intelligent-Tiering。
- Q: 長期保管でコストを最小化し、アクセスはごく稀な場合？
  - A: S3 Glacier や Glacier Deep Archive。

#### 8.2 アクセス制御とセキュリティ

- Q: パブリックアクセスを防ぐには？
  - A: バケットポリシーで拒否、パブリックアクセスブロック機能を有効化。
- Q: 暗号化するには？
  - A: SSE-S3、SSE-KMS を選択。KMS を用いる場合は鍵ポリシーも確認。

#### 8.3 バージョニング・ライフサイクル・レプリケーション

- Q: 削除したオブジェクトを復元可能にする方法は？
  - A: バージョニング有効化。
- Q: 一定期間後に自動で低コスト層へ移行するには？
  - A: ライフサイクルルール設定。
- Q: 別リージョンに自動的にオブジェクトをコピー？
  - A: クロスリージョンレプリケーション(CRR)。

#### 8.4 パフォーマンスと最適化

- Q: 高並行アクセスのボトルネック解消には？
  - A: プレフィックス分散。オブジェクトキー名にランダム化や日時ディレクトリで並列化。
- Q: 高速アップロード/ダウンロード？
  - A: S3 Transfer Acceleration を有効化。

#### 8.5 イベント通知と他サービス統合

- Q: オブジェクトが追加されるたびに Lambda で処理？
  - A: S3 イベント通知を Lambda に設定。
- Q: オブジェクトメタデータやアクセス権をまとめて取得？
  - A: S3 Inventory で定期的に CSV レポート出力。

#### 8.6 コスト管理

- Q: コスト削減には？
  - A: 不要なオブジェクト削除、低アクセスデータを IA や Glacier へ移行、ライフサイクル活用。

#### 8.7 類似・関連サービスとの比較

- Q: EBS や EFS と S3 の違いは？
  - A: S3 はオブジェクトストレージ（HTTP アクセス）、EBS はブロックストレージ、EFS は NFS ファイルシステム共有。

#### 8.8 その他細かな試験ポイント

- S3 URL 形式 (バケット名、リージョン名、オブジェクトキー)
- バケット名のグローバルユニーク性
- データ整合性モデル (PUT 後の READ は即時整合性、DELETE 後の READ は整合性遅延の場合有)

---

## Backup

### 1. サービス概要

AWS Backup は、AWS クラウドおよびオンプレミス環境における様々なワークロードのバックアップを集中管理し、自動化するためのフルマネージドサービスである。  
ユーザーは、バックアップポリシーを設定するだけで、EC2 インスタンス、EBS ボリューム、RDS データベース、DynamoDB テーブル、EFS ファイルシステム、Storage Gateway ボリュームなど、様々な AWS リソースのバックアップを自動的に作成、管理できる。  
AWS Backup は、データの保護、コンプライアンス遵守、災害復旧戦略の強化に役立つ。

主なユースケースとして、

- AWS リソースのバックアップ
- オンプレミスデータのバックアップ
- 災害復旧戦略
- コンプライアンス要件を満たすためのデータ保持
- アプリケーションの一貫性バックアップ

などが挙げられる。  
AWS Backup は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 バックアップの集中管理

AWS Backup は、AWS リソースのバックアップを集中管理するための単一のインターフェースを提供する。  
これにより、複数の AWS サービスにまたがるバックアップポリシーを簡単に設定し、管理できる。

#### 2.2 バックアップポリシー

バックアップスケジュール、バックアップ保持期間、バックアップ頻度などを定義したバックアップポリシーを作成できる。  
これらのポリシーは、特定のリソースやリソースタグに適用できる。

#### 2.3 バックアップの自動化

AWS Backup は、設定されたバックアップポリシーに基づいて、バックアップを自動的に作成する。  
これにより、手動でのバックアップ操作を減らし、人的ミスを防止できる。

#### 2.4 ライフサイクル管理

バックアップの保持期間を管理できる。  
古いバックアップは、自動的に削除またはアーカイブされ、ストレージコストを最適化できる。

#### 2.5 リカバリ

バックアップしたデータを、元のリソースまたは新しいリソースに簡単に復元できる。  
これにより、災害発生時やデータ損失時に、迅速に復旧できる。

#### 2.6 アプリケーション整合性バックアップ

特定のアプリケーション（例：Amazon RDS）のバックアップを作成する際に、アプリケーションの整合性を確保できる。  
これにより、復元後のアプリケーションの正常な動作を保証できる。

#### 2.7 統合性と拡張性

AWS Backup は、Amazon EC2, Amazon EBS, Amazon RDS, Amazon DynamoDB, Amazon EFS, AWS Storage Gateway など、様々な AWS サービスと統合されている。  
また、API を利用して、バックアップ管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS Backup でバックアップポリシーを作成し、保護対象のリソースを選択。
2. AWS Backup は、スケジュールされたタイミングで、対象リソースのバックアップを作成。
3. バックアップは、AWS Backup Vault に保存。
4. 必要に応じて、AWS Backup Vault からデータをリストア。
5. バックアップのライフサイクル管理を自動的に適用。

AWS Backup は、AWS のインフラ上に構築されており、高い可用性と耐久性を提供する。  
バックアップの作成や管理は AWS が行うため、ユーザーはインフラの管理を意識する必要はない。

### 4. セキュリティと認証・認可

AWS Backup は、バックアップデータのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、AWS Backup へのアクセスを制御する。
- **データ暗号化**: バックアップデータは転送中および保存時に暗号化される。
- **VPC エンドポイント**: VPC 内から AWS Backup にアクセスする際に、インターネットを経由せずにアクセスできる。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、AWS Backup の操作権限を詳細に制御できる。
- **監査ログ**: CloudTrail を通じて、AWS Backup の利用状況を監査できる。

これらのセキュリティ対策により、バックアップデータへの不正アクセスを防止し、機密情報を保護できる。

### 5. 料金形態

AWS Backup の料金は主に以下に基づく:

- **バックアップストレージ**: バックアップデータの保存容量に応じて課金。
- **データ復元**: バックアップデータを復元する際に課金。
- **データ転送**: データ転送量に応じて課金。

### 6. よくあるアーキテクチャ・設計パターン

AWS Backup は、様々なワークロードのバックアップに利用できる。  
一般的なパターンは以下の通りである:

- **AWS リソースのバックアップ**: EC2 インスタンス、EBS ボリューム、RDS データベース、DynamoDB テーブル、EFS ファイルシステムなどの AWS リソースを定期的にバックアップ。
- **オンプレミスデータのバックアップ**: AWS Storage Gateway を使用して、オンプレミスデータを AWS Backup でバックアップ。
- **災害復旧戦略**: バックアップデータを別の AWS リージョンにコピーし、災害発生時の迅速な復旧に備える。
- **コンプライアンス要件を満たすためのデータ保持**: 法規制や業界規制に従って、バックアップデータを長期的に保持。
- **アプリケーション整合性バックアップ**: アプリケーションの整合性を確保したバックアップを作成し、リカバリを容易化。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから AWS Backup を開き、バックアッププランを作成。
2. バックアップ対象となるリソース（EC2, EBS, RDS など）を選択し、バックアップ頻度、保持期間を設定。
3. バックアップジョブを実行し、バックアップデータを作成。
4. バックアップデータからリソースを復元。
5. バックアップポリシーのライフサイクルを管理。

### 8. 試験で問われやすいポイント

#### 8.1 バックアップの集中管理

- **機能**: AWS リソースのバックアップを集中管理するための単一のインターフェースを提供。
- **利用**: 複数の AWS サービスにまたがるバックアップポリシーを簡単に設定し、管理。
- **試験対策**: 集中管理のメリット、管理対象のサービスが問われる。

#### 8.2 バックアップポリシー

- **設定内容**: バックアップスケジュール、バックアップ保持期間、バックアップ頻度など。
- **対象**: 特定のリソースやリソースタグ。
- **試験対策**: バックアップポリシーの設定内容、適用範囲が問われる。

#### 8.3 バックアップの自動化

- **機能**: 設定されたポリシーに基づいて、バックアップを自動的に作成。
- **目的**: 手動操作を減らし、人的ミスを防止。
- **試験対策**: 自動バックアップの仕組み、メリットが問われる。

#### 8.4 ライフサイクル管理

- **機能**: バックアップの保持期間を管理。
- **対象**: 古いバックアップを自動的に削除またはアーカイブ。
- **試験対策**: ライフサイクル管理の目的、設定方法が問われる。

#### 8.5 リカバリ

- **機能**: バックアップしたデータを、元のリソースまたは新しいリソースに復元。
- **目的**: 災害時やデータ損失時に、迅速に復旧。
- **試験対策**: データ復元の方法、重要性が問われる。

#### 8.6 料金体系

- **課金対象**: バックアップストレージ、データ復元、データ転送量。
- **最適化**: 不要なバックアップデータの削減、適切なバックアップ保持期間の設定がコスト削減に有効。
- **試験対策**: 料金体系、課金対象が問われる。

#### 8.7 類似・関連サービスとの比較

- **AWS Data Lifecycle Manager**: EBS ボリュームのスナップショットのライフサイクルを管理するサービス。Backup はより多くの AWS サービスに対応。
- **個別サービスのバックアップ機能**: 各 AWS サービスのバックアップ機能。Backup は一元的にバックアップを管理。

#### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: AWS Backup は何を提供するサービスですか？
  - A: AWS クラウドおよびオンプレミス環境における様々なワークロードのバックアップを集中管理し、自動化するためのフルマネージドサービスである。
- Q: AWS Backup で設定できるバックアップポリシーには、どのような設定項目がありますか？
  - A: バックアップスケジュール、バックアップ保持期間、バックアップ頻度などを設定できる。
- Q: AWS Backup はどのようにバックアップを自動化しますか？
  - A: 設定されたバックアップポリシーに基づいて、バックアップを自動的に作成する。
- Q: AWS Backup のデータはどのように保護されますか？
  - A: データは転送中および保存時に暗号化される。また、アクセス制御リスト（ACL）や IAM ポリシーを使用して、アクセス権限を制御できる。
- Q: AWS Backup の料金はどのように計算されますか？
  - A: バックアップデータの保存容量、データ復元、データ転送量などに基づいて計算される。

---

## Snow Family

### 1. サービス概要

AWS Snow Family は、AWS クラウドへのデータ移行、エッジでのデータ処理、ストレージ拡張を目的とした一連の物理デバイスとサービスである。  
ネットワーク接続が不安定または低帯域幅な環境でも、大規模なデータ移動やエッジコンピューティングを安全かつ効率的に行うことができる。

主なデバイスとして、

- AWS Snowcone
- AWS Snowball（Snowball Edge Compute Optimized、Snowball Edge Storage Optimized）
- AWS Snowmobile

がある。

それぞれのデバイスは異なるユースケースに対応しており、小型で持ち運び可能なものから、ペタバイト級のデータに対応するものまで幅広く提供される。

### 2. 主な特徴と機能

#### 2.1 AWS Snowcone

Snowcone は、小型で堅牢なデバイスで、エッジでのデータ収集、処理、データ転送に適している。  
バッテリー駆動可能で、過酷な環境下でも利用できる。

- **特徴**: 小型、軽量、ポータブル、耐衝撃性
- **用途**: エッジでのデータ収集・処理、過酷な環境での利用、IoT デバイスとの連携
- **機能**: ローカルストレージ、コンピューティングリソース、AWS とのデータ転送

#### 2.2 AWS Snowball Edge

Snowball Edge は、大規模なデータ移行やエッジでのコンピューティング処理に最適化されたデバイスである。  
Compute Optimized と Storage Optimized の 2 つのタイプがある。

- **Snowball Edge Compute Optimized**: 大量の演算処理に特化しており、機械学習推論、メディア処理などに使用できる。GPU オプションも選択可能。
- **Snowball Edge Storage Optimized**: 大規模なデータストレージに特化しており、ペタバイト級のデータ移行や長期保存に利用できる。

#### 2.3 AWS Snowmobile

Snowmobile は、エクサバイト級のデータを移動させるための輸送可能なデータ転送サービスである。  
輸送可能なコンテナ型データセンターであり、大規模なデータセンターから AWS へのデータ移行を効率的に行う。

#### 2.4 セキュリティと管理

Snow Family デバイスは、データ転送中および保管中のセキュリティを確保するために、暗号化機能と改ざん防止機能が組み込まれている。  
AWS Key Management Service (KMS) を利用した暗号化や、物理的な改ざん防止対策が含まれる。

#### 2.5 統合性と拡張性

Snow Family デバイスは AWS の他のサービスと連携して動作する。  
例えば、Snowball Edge は S3 バケットへのデータ移行、Snowcone は IoT Core とのデータ連携が可能である。  
また、AWS Management Console や AWS CLI を通じて、デバイスの管理やデータ転送ジョブの作成が可能である。

### 3. アーキテクチャおよび技術要素

1. ユーザーは AWS Management Console または AWS CLI でデータ転送ジョブを作成し、Snow Family デバイスを注文する。
2. AWS はデバイスをユーザーの指定した場所に発送する。
3. ユーザーはデバイスをデータセンターまたはエッジ環境に設置し、データをデバイスにコピーする。
4. データコピー後、デバイスを AWS に返送する。
5. AWS はデバイス内のデータを S3 バケットにインポートし、データ移行を完了する。

Snow Family デバイスは、AWS との連携を容易にするために、AWS SDK や API をサポートしている。

### 4. セキュリティと認証・認可

セキュリティは Snow Family の中核コンポーネントである:

- **デバイス暗号化**: デバイスに保存されるデータは、AWS KMS で管理されるキーを使用して暗号化される。
- **改ざん防止**: デバイスは物理的な改ざんを検知する機能があり、不正なアクセスを防ぐ。
- **アクセス制御**: IAM を利用して、デバイスへのアクセス権限を管理する。

これらのセキュリティ機能により、データの機密性と整合性を確保し、安全なデータ転送を実現する。

### 5. 料金形態

AWS Snow Family の料金は主に以下に基づく:

- **デバイス利用料金**: デバイスのレンタル期間に応じて課金される。デバイスの種類や構成によって料金が異なる。
- **データ転送料金**: AWS へのデータインポートに際して料金が発生する場合がある。
- **ジョブ作成料金**: データ転送ジョブの作成には、ジョブごとに料金が発生する。

### 6. よくあるアーキテクチャ・設計パターン

一般的なパターンは以下の通りである:

- **大規模データ移行**: オンプレミスデータセンターから AWS への大規模なデータ移行に Snowball Edge または Snowmobile を使用。
- **エッジコンピューティング**: 遠隔地のデータ収集・処理に Snowcone または Snowball Edge を使用。
- **メディアコンテンツ処理**: ビデオ編集や画像処理などのメディアワークフローに Snowball Edge Compute Optimized を利用。
- **IoT データ収集**: 遠隔地のセンサーデータ収集に Snowcone を利用し、AWS IoT Core へ連携。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS Management Console で、Snow Family のサービスを選択。
2. データ転送ジョブを作成し、必要なデバイスを選択（Snowcone、Snowball Edge など）。
3. デバイスの発送先住所、データ転送方法、暗号化設定などを指定。
4. AWS から発送されたデバイスを受け取り、オンプレミス環境またはエッジ環境に設置。
5. デバイスにデータをコピーし、AWS へ返送。
6. AWS がデバイスを受け取り、データを S3 バケットにインポート。

### 8. 試験で問われやすいポイント

#### 8.1 デバイスの種類と用途

- **Snowcone**: 小型でポータブル、エッジデータ収集、過酷環境での利用。
- **Snowball Edge Compute Optimized**: エッジでのコンピューティング処理、機械学習推論、GPU オプション。
- **Snowball Edge Storage Optimized**: 大規模なデータ移行、ストレージ。
- **Snowmobile**: ペタバイト～エクサバイト級の大規模データ移行。

#### 8.2 セキュリティ(暗号化と物理的保護)

- **暗号化**: AWS KMS によるデータ暗号化、データ転送中と保管中における保護。
- **改ざん防止**: 物理的な改ざんを検知する機能。
- **認証**: IAM によるアクセス制御、デバイスへのアクセス権限管理。

#### 8.3 料金モデルとコスト最適化

- **デバイス利用料金**: デバイスのレンタル期間に応じて課金。
- **データ転送料金**: AWS へのインポートに際して発生する可能性のある料金。
- **ジョブ料金**: データ転送ジョブ作成ごとの料金。
- **コスト最適化**: 適切なデバイス選定、データ圧縮による転送量削減。

試験問題では、

- **「Snow Family の各デバイスの用途は？」**
- **「暗号化はどのように実現されているか？」**
- **「コスト最適化のポイントは？」**

などが問われる。

#### 8.4 連携サービスと統合性

- **S3**: Snowball Edge で収集したデータを S3 バケットへインポート。
- **IoT Core**: Snowcone で収集したデータを IoT Core に連携。
- **AWS CLI/SDK**: デバイス管理、データ転送ジョブの作成。

#### 8.5 ユースケース

- **データセンター移行**: オンプレミスデータセンターからの大規模データ移行。
- **エッジコンピューティング**: 製造業、石油・ガス、建設現場など、遠隔地でのデータ処理。
- **メディアコンテンツ**: ビデオ編集、画像処理などのメディアワークフロー。

#### 8.6 試験で頻出となる具体的な問われ方と答え

- Q: Snow Family の中で最も小型でポータブルなデバイスは？
  - A: Snowcone。
- Q: 大規模なデータ移行に特化した Snow Family デバイスは？
  - A: Snowball Edge Storage Optimized と Snowmobile。
- Q: Snow Family のセキュリティ機能として、データ暗号化はどのように実現されるか？
  - A: AWS KMS で管理されるキーを使用して暗号化。
- Q: エッジ環境でのコンピューティング処理に最適な Snow Family デバイスは？
  - A: Snowball Edge Compute Optimized。
- Q: Snow Family デバイスの料金体系は？
  - A: デバイス利用料金、データ転送料金、ジョブ料金。
- Q: オンプレミス環境から AWS へペタバイト級のデータを移行する場合に最適なサービスは？
  - A: Snowball Edge Storage Optimized または Snowmobile。
- Q: Snowcone で収集したデータを AWS へ送信する方法は？
  - A: AWS に返送して、S3 にインポートまたは IoT Core へ連携。

---

## Storage Gateway

### 1. サービス概要

AWS Storage Gateway は、オンプレミス環境と AWS クラウドの間でストレージを連携させるハイブリッドストレージサービスである。  
ユーザーは、オンプレミス環境から AWS のストレージサービス（S3、EBS、Glacier）にアクセスし、データを移行したり、クラウドストレージをローカルストレージとして利用したりできる。  
Storage Gateway は、多様なユースケースに対応するための柔軟性と、オンプレミス環境と AWS クラウド間のデータ連携を簡素化する。

主なユースケースとして、

- オンプレミスデータの AWS クラウドへの移行
- オンプレミスアプリケーションでのクラウドストレージの利用
- バックアップと災害対策
- データアーカイブ
- ファイル共有

などが挙げられる。  
AWS Storage Gateway は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 ハイブリッドストレージ

Storage Gateway は、オンプレミス環境と AWS クラウドの間でストレージを連携させるハイブリッドストレージソリューションを提供する。  
これにより、クラウドストレージをオンプレミス環境からシームレスに利用できる。

#### 2.2 ゲートウェイタイプ

Storage Gateway には、ファイルゲートウェイ、ボリュームゲートウェイ、テープゲートウェイという 3 つのゲートウェイタイプがある。  
各ゲートウェイタイプは、異なるユースケースに対応している。

#### 2.3 ファイルゲートウェイ

NFS または SMB プロトコルを使用して、オンプレミスアプリケーションから Amazon S3 にアクセスできるようにする。  
これにより、ファイル共有やコンテンツ配信などのユースケースに対応できる。

#### 2.4 ボリュームゲートウェイ

iSCSI プロトコルを使用して、オンプレミス環境から AWS にブロックストレージを提供する。  
これにより、オンプレミスアプリケーションでクラウドストレージをローカルストレージとして利用できる。

#### 2.5 テープゲートウェイ

物理的なテープライブラリを仮想テープライブラリ（VTL）に置き換え、バックアップデータを S3 Glacier にアーカイブできる。  
これにより、テープストレージのコスト削減と管理の簡素化を実現できる。

#### 2.6 ローカルキャッシュ

よくアクセスされるデータをローカルにキャッシュし、データアクセスを高速化できる。  
これにより、クラウドストレージへのアクセスレイテンシーを低減し、パフォーマンスを向上させることができる。

#### 2.7 統合性と拡張性

AWS Storage Gateway は、Amazon S3, Amazon EBS, Amazon Glacier, AWS Backup, AWS Direct Connect などの AWS の他のサービスと密接に統合されており、様々なワークフローに対応できる。  
また、API を利用して、Storage Gateway の管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、オンプレミス環境に Storage Gateway のアプライアンス（仮想またはハードウェア）を展開。
2. Storage Gateway は、オンプレミスアプリケーションからのストレージリクエストを受け付け、AWS クラウドへ転送。
3. AWS クラウドでは、S3、EBS、Glacier などのストレージサービスにデータが保存。
4. データは、転送中および保存時に暗号化。
5. よくアクセスされるデータは、ローカルキャッシュに保存し、高速アクセスを実現。

AWS Storage Gateway は、オンプレミス環境と AWS クラウドをシームレスに連携させ、ハイブリッドストレージソリューションを提供する。  
データの転送やストレージの管理は AWS が行うため、ユーザーはインフラの管理を行う必要はない。

### 4. セキュリティと認証・認可

AWS Storage Gateway は、データセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、Storage Gateway へのアクセスを制御する。
- **データ暗号化**: データは転送中および保存時に暗号化される。
- **VPC エンドポイント**: VPC 内から Storage Gateway にアクセスする際に、インターネットを経由せずにアクセスできる。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、Storage Gateway の操作権限を詳細に制御できる。

これらのセキュリティ対策により、オンプレミス環境と AWS クラウド間のデータ転送を安全に保護する。

### 5. 料金形態

AWS Storage Gateway の料金は主に以下に基づく:

- **ゲートウェイの利用**: Storage Gateway アプライアンスの実行時間に応じて課金。
- **ストレージ**: クラウドストレージ（S3, EBS, Glacier）の利用料金が発生。
- **データ転送**: データ転送量に応じて課金。
- **キャッシュ**: ローカルキャッシュで使用するストレージ容量に応じて課金。

### 6. よくあるアーキテクチャ・設計パターン

AWS Storage Gateway は、様々なハイブリッドストレージ環境で利用できる。  
一般的なパターンは以下の通りである:

- **オンプレミスデータの AWS クラウドへの移行**: 大量のデータを AWS に移行するために、Storage Gateway を利用。
- **オンプレミスアプリケーションでのクラウドストレージの利用**: オンプレミスアプリケーションからクラウドストレージをローカルストレージのように利用。
- **バックアップと災害対策**: オンプレミスのバックアップデータを AWS に保存し、災害復旧に備える。
- **データアーカイブ**: 古いデータを S3 Glacier にアーカイブし、長期保管。
- **ファイル共有**: オンプレミス環境と AWS クラウド環境の間で、ファイルを共有。
- **ハイブリッドクラウド環境**: オンプレミス環境と AWS クラウド環境を連携させ、柔軟なストレージ環境を構築。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから AWS Storage Gateway を開き、ゲートウェイタイプ（ファイル、ボリューム、テープ）を選択。
2. Storage Gateway のアプライアンス（仮想またはハードウェア）をダウンロードし、オンプレミス環境にデプロイ。
3. アプライアンスを設定し、AWS アカウントと連携。
4. ゲートウェイを作成し、AWS のストレージサービス（S3, EBS, Glacier）と連携。
5. オンプレミス環境から Storage Gateway 経由で、クラウドストレージにアクセス。

### 8. 試験で問われやすいポイント

#### 8.1 ハイブリッドストレージ

- **特徴**: オンプレミス環境と AWS クラウド間でストレージを連携。
- **利用**: クラウドストレージをオンプレミスからシームレスに利用可能。
- **試験対策**: ハイブリッドストレージのメリット、利用ケースが問われる。

#### 8.2 ゲートウェイタイプ

- **種類**: ファイルゲートウェイ、ボリュームゲートウェイ、テープゲートウェイ。
- **利用**: 各ゲートウェイタイプは異なるユースケースに対応。
- **試験対策**: 各ゲートウェイタイプの特徴、利用シーンが問われる。

#### 8.3 ファイルゲートウェイ

- **プロトコル**: NFS または SMB。
- **利用**: オンプレミスアプリケーションから S3 へのアクセス。
- **試験対策**: ファイルゲートウェイの利用方法、プロトコルが問われる。

#### 8.4 ボリュームゲートウェイ

- **プロトコル**: iSCSI。
- **利用**: オンプレミス環境から AWS にブロックストレージを提供。
- **試験対策**: ボリュームゲートウェイの利用方法、プロトコルが問われる。

#### 8.5 テープゲートウェイ

- **機能**: 物理的なテープライブラリを VTL に置き換え。
- **利用**: バックアップデータを S3 Glacier にアーカイブ。
- **試験対策**: テープゲートウェイの利用方法、VTL との連携が問われる。

#### 8.6 ローカルキャッシュ

- **機能**: よくアクセスされるデータをローカルにキャッシュ。
- **目的**: データアクセスを高速化、レイテンシーを低減。
- **試験対策**: ローカルキャッシュの仕組み、メリットが問われる。

#### 8.7 料金体系

- **課金対象**: ゲートウェイの利用、クラウドストレージの利用、データ転送量、キャッシュストレージ。
- **最適化**: 不要なデータ転送の削減、適切なキャッシュサイズの設定がコスト削減に有効。
- **試験対策**: 料金体系、課金対象が問われる。

#### 8.8 類似・関連サービスとの比較

- **AWS DataSync**: オンプレミスと AWS 間で大量データを高速に移行するサービス。Storage Gateway はオンプレミスとクラウド間のストレージ連携に特化。
- **Amazon S3**: オブジェクトストレージサービス。Storage Gateway はオンプレミスからのアクセスを容易にするためのサービス。

#### 8.9 試験で頻出となる具体的な問われ方と答え

- Q: AWS Storage Gateway は何を提供するサービスですか？
  - A: オンプレミス環境と AWS クラウドの間でストレージを連携させるハイブリッドストレージサービスである。
- Q: AWS Storage Gateway には、どのようなゲートウェイタイプがありますか？
  - A: ファイルゲートウェイ、ボリュームゲートウェイ、テープゲートウェイの 3 つのゲートウェイタイプがある。
- Q: AWS Storage Gateway のファイルゲートウェイは、どのようなプロトコルをサポートしていますか？
  - A: NFS または SMB プロトコルをサポートしている。
- Q: AWS Storage Gateway のテープゲートウェイは、どのような役割を果たしますか？
  - A: 物理的なテープライブラリを仮想テープライブラリ（VTL）に置き換え、バックアップデータを S3 Glacier にアーカイブできる。
- Q: AWS Storage Gateway の料金はどのように計算されますか？
  - A: ゲートウェイの利用、クラウドストレージの利用、データ転送量、キャッシュストレージなどに基づいて計算される。
