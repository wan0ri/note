---
title: クラウド財務管理
---

## Budgets

### 1. サービス概要

AWS Budgets は、AWS の利用料金とコストを管理するためのサービスである。  
予算を設定し、コストや使用量の実績を追跡し、予算超過が予測される場合にアラートを送信できる。  
これにより、AWS 利用料金を可視化し、予期せぬコストが発生するのを防ぎ、予算内でのクラウド利用を促進できる。  
コスト管理の自動化や、組織全体のコスト最適化に貢献する。

主なユースケースとして、

- AWS 利用料金の監視
- コスト削減目標の設定
- 部門ごとのコスト管理
- 予算超過のリスク軽減
- RI（リザーブドインスタンス）や Savings Plans の利用状況の把握

などが挙げられる。  
AWS Budgets は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 予算設定

月額、四半期、年間の予算を、コストまたは使用量に基づいて設定できる。  
予算は、AWS アカウント全体、または特定のサービス、タグ、リージョンなどを指定して作成できる。

#### 2.2 コスト追跡

AWS のコストと使用量を追跡し、設定した予算と比較して進捗状況を可視化できる。  
過去のコスト実績、予測されるコスト、予算超過の可能性などを確認できる。

#### 2.3 アラート通知

コストまたは使用量が予算の一定割合に達した場合、または予算超過が予測される場合に、アラートをメールや SNS で通知できる。  
アラートのしきい値や通知先をカスタマイズできる。

#### 2.4 コスト異常検出

機械学習を利用して、異常なコスト増加を自動的に検出し、通知できる。  
これにより、予期せぬコスト変動に早期に気づき、対応できる。

#### 2.5 RI/Savings Plans の利用状況の追跡

リザーブドインスタンス（RI）や Savings Plans の利用状況を追跡し、カバレッジや利用率を把握できる。  
未使用のリザーブドインスタンスや Savings Plans がある場合、アラートを通知できる。

#### 2.6 カスタマイズ可能なレポート

コストと使用量のデータを、様々な形式（CSV、JSON）でエクスポートできる。  
カスタマイズ可能なレポートを作成し、コスト分析に利用できる。

#### 2.7 統合性と拡張性

AWS Budgets は、AWS Cost Explorer、AWS Organizations、Amazon SNS などの AWS サービスと統合できる。  
また、API を利用して、予算管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS マネジメントコンソールまたは API を通じて、AWS Budgets にアクセス。
2. 予算を設定し、コストまたは使用量の追跡条件を定義。
3. AWS Budgets は、AWS のコストと使用量のデータを収集。
4. 予算と実際のコストを比較し、アラートの条件を評価。
5. アラート条件を満たした場合、メールまたは SNS で通知。
6. ユーザーは、コスト分析や予算管理のため、レポートをエクスポート。

AWS Budgets は、AWS のインフラ上に構築されており、高い可用性とスケーラビリティを提供する。  
コストデータは AWS が管理するため、ユーザーはインフラの管理を行う必要はない。

### 4. セキュリティと認証・認可

AWS Budgets は、AWS のセキュリティモデルに準拠しており、コストデータのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、AWS Budgets へのアクセスを制御する。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、AWS Budgets の操作権限を詳細に制御できる。
- **データ保護**: コストデータは暗号化され、セキュアな環境で管理される。
- **監査ログ**: CloudTrail を通じて、AWS Budgets の利用状況を監査できる。

これらのセキュリティ対策により、コストデータへの不正アクセスを防止し、機密情報を保護できる。

### 5. 料金形態

AWS Budgets は、無料で利用できるサービスである。

ただし、予算超過のアラート通知を Amazon SNS で受信する場合、SNS の利用料が発生する場合がある。

### 6. よくあるアーキテクチャ・設計パターン

AWS Budgets は、様々な AWS 利用環境で利用できる。一般的なパターンは以下の通りである:

- **AWS 利用料金の監視**: AWS アカウント全体の利用料金を監視し、予算超過のリスクを低減。
- **部門ごとのコスト管理**: 部門ごとに予算を設定し、コストを追跡して、責任範囲を明確化。
- **RI/Savings Plans の利用状況の把握**: RI や Savings Plans の利用状況を監視し、コスト最適化のためのアクションを促す。
- **コスト削減目標の設定**: コスト削減目標を設定し、進捗状況を監視して、目標達成を促進。
- **コスト異常検出**: 予期せぬコスト増加を自動的に検出し、早期に対処。
- **予算超過防止**: 予算超過を事前に検知し、対策を講じてコストのコントロール。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから AWS Budgets を開き、新しい予算を作成。
2. 予算の種類（コスト予算、使用量予算、RI 利用予算、Savings Plans 利用予算）を選択。
3. 予算範囲（AWS アカウント、サービス、タグ、リージョン）などを指定。
4. 予算額とアラートのしきい値を設定。
5. アラート通知を設定（メールまたは SNS）。
6. 作成した予算を保存し、コストと使用量の状況を監視。

### 8. 試験で問われやすいポイント

#### 8.1 予算設定

- **種類**: コスト予算、使用量予算、RI 利用予算、Savings Plans 利用予算。
- **範囲**: AWS アカウント全体、または特定のサービス、タグ、リージョン。
- **試験対策**: 各予算の種類、設定方法、利用シナリオが問われる。

#### 8.2 コスト追跡

- **追跡対象**: AWS のコストと使用量。
- **可視化**: 過去のコスト実績、予測されるコスト、予算超過の可能性。
- **試験対策**: コスト追跡の機能、確認できる内容が問われる。

#### 8.3 アラート通知

- **通知方法**: メールまたは Amazon SNS。
- **設定**: アラートのしきい値、通知先をカスタマイズ可能。
- **試験対策**: アラートの設定方法、通知先の設定が問われる。

#### 8.4 コスト異常検出

- **検出方法**: 機械学習を利用し、異常なコスト増加を自動的に検出。
- **目的**: 予期せぬコスト変動に早期に気づき、対応。
- **試験対策**: コスト異常検出の機能、利用シナリオが問われる。

#### 8.5 RI/Savings Plans の利用状況の追跡

- **追跡対象**: リザーブドインスタンス（RI）や Savings Plans の利用状況。
- **可視化**: カバレッジや利用率を把握。
- **試験対策**: RI/Savings Plans の利用状況を追跡する機能が問われる。

#### 8.6 料金体系

- **料金**: AWS Budgets 自体は無料で利用可能。
- **関連料金**: アラート通知を SNS で受け取る場合、SNS 利用料が発生する場合がある。
- **試験対策**: 料金体系、関連サービスの料金が問われる。

#### 8.7 類似・関連サービスとの比較

- **AWS Cost Explorer**: コスト分析、可視化に特化したサービス。Budgets は予算管理に特化。
- **AWS Cost Anomaly Detection**: コスト異常検出に特化したサービス。Budgets は予算超過を検知する機能も提供。

#### 8.8 試験で頻出となる具体的な問われ方と答え

- Q: AWS Budgets は何をするサービスか？
  - A: AWS の利用料金とコストを管理するためのサービスである。
- Q: AWS Budgets で設定できる予算の種類は何か？
  - A: コスト予算、使用量予算、RI 利用予算、Savings Plans 利用予算である。
- Q: AWS Budgets でアラートを通知する方法は何か？
  - A: メールまたは Amazon SNS で通知できる。
- Q: AWS Budgets の料金は？
  - A: 無料で利用できる。
- Q: AWS Budgets は、どのようなサービスと連携できるか？
  - A: AWS Cost Explorer, AWS Organizations, Amazon SNS などと連携できる。

---

## Cost and Usage Report

### 1. サービス概要

AWS Cost and Usage Report (CUR) は、AWS の利用料金とコストに関する包括的なデータを提供するサービスである。  
詳細なリソースレベルでのコストと使用状況のデータを含むレポートを、Amazon S3 バケットに定期的に配信する。  
このレポートを利用することで、コストをより詳細に分析し、コスト最適化の機会を特定し、AWS の利用状況を把握できる。  
組織全体のコスト管理と効率的な AWS 利用に貢献する。

主なユースケースとして、

- AWS コスト分析
- コスト最適化
- 請求処理
- RI（リザーブドインスタンス）や Savings Plans の利用状況の追跡
- 部門ごとのコスト配分
- 機械学習によるコスト予測

などが挙げられる。  
AWS CUR は、これらのユースケースに対応するための詳細なデータを提供し、AWS のコスト管理に必要な情報を包括的に取得できる。

### 2. 主な特徴と機能

#### 2.1 詳細なコストデータ

CUR は、AWS の利用料金とコストに関する詳細なデータを提供する。  
リソースレベルでのコストデータ、使用量データ、タグデータ、リザーブドインスタンス（RI）や Savings Plans に関する情報などを含みる。

#### 2.2 定期的なレポート配信

設定した Amazon S3 バケットに、レポートを定期的に（1 時間ごと、または 1 日ごと）配信する。  
これにより、常に最新のコストデータを利用でき、コスト分析を自動化できる。

#### 2.3 データフォーマット

レポートは、CSV 形式または Parquet 形式で配信できる。  
Parquet 形式は、データ分析に最適化された列指向のデータ形式であり、大規模なデータセットのクエリを効率的に実行できる。

#### 2.4 カスタマイズ可能なレポート

レポートに含めるデータをカスタマイズできる。  
例えば、特定のサービス、タグ、リージョン、リソースタイプなどのデータを絞り込むことができる。

#### 2.5 Athena との統合

Amazon Athena と統合することで、S3 バケットに保存された CUR データを SQL クエリで分析できる。
これにより、複雑なコスト分析を簡単に行うことができる。

#### 2.6 QuickSight との統合

Amazon QuickSight と統合することで、CUR データを可視化し、インタラクティブなダッシュボードを作成できる。  
これにより、コストトレンドやコスト要因を把握し、より効果的なコスト管理を実現できる。

#### 2.7 統合性と拡張性

AWS CUR は、AWS の他のサービス（Amazon S3、Amazon Athena、Amazon QuickSight など）と密接に統合されている。  
また、API を利用して、レポートの生成や管理を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS マネジメントコンソールまたは API を通じて、AWS CUR を設定。
2. CUR は、AWS のコストと使用量のデータを収集し、レポートを生成。
3. レポートは、指定された Amazon S3 バケットに定期的に配信。
4. ユーザーは、Amazon Athena や Amazon QuickSight などのサービスを利用して、レポートを分析。
5. 必要に応じて、レポートをダウンロードし、カスタムツールで分析。

AWS CUR は、AWS のインフラ上に構築されており、高い可用性とスケーラビリティを提供する。  
レポート生成や配信は AWS が行うため、ユーザーはインフラの管理を行う必要はない。

### 4. セキュリティと認証・認可

AWS CUR は、AWS のセキュリティモデルに準拠しており、コストデータのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、AWS CUR へのアクセスを制御する。
- **S3 バケットポリシー**: CUR レポートが保存される S3 バケットのアクセス権限を制御できる。
- **データ暗号化**: レポートは転送中および保存時に暗号化される。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、CUR レポートのアクセス権限を詳細に制御できる。

これらのセキュリティ対策により、コストデータへの不正アクセスを防止し、機密情報を保護できる。

### 5. 料金形態

AWS Cost and Usage Report (CUR) は、無料で利用できるサービスである。

ただし、CUR レポートを保存する Amazon S3 バケット、およびレポートを分析するための Amazon Athena や Amazon QuickSight などの AWS サービスの利用料は発生する。

### 6. よくあるアーキテクチャ・設計パターン

AWS CUR は、様々な AWS 利用環境で利用できる。一般的なパターンは以下の通りである:

- **詳細なコスト分析**: リソースレベルでのコストデータを分析し、コスト削減の機会を特定。
- **請求処理の自動化**: CUR データを基に、請求処理を自動化し、コスト配分を行う。
- **RI/Savings Plans の利用状況の追跡**: RI や Savings Plans の利用状況を分析し、カバレッジや利用率を最適化。
- **部門ごとのコスト配分**: タグを利用して、部門ごとのコストを配分し、コスト責任を明確化。
- **機械学習によるコスト予測**: CUR データを機械学習モデルに投入し、将来のコストを予測。
- **クラウド利用状況の把握**: サービス、リージョン、リソースタイプごとのコストと使用量を把握。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから AWS Cost and Usage Report を開き、新しいレポートを作成。
2. レポート名、配信先 S3 バケット、レポートのフォーマット（CSV, Parquet）などを設定。
3. レポートに含めるデータをカスタマイズ（サービス、タグ、リージョンなど）。
4. レポートの配信頻度（1 時間ごと、または 1 日ごと）を設定。
5. 作成したレポートを保存し、S3 バケットへのレポート配信を確認。
6. Amazon Athena や Amazon QuickSight でレポートを分析。

### 8. 試験で問われやすいポイント

#### 8.1 詳細なコストデータ

- **内容**: リソースレベルでのコストデータ、使用量データ、タグデータ、RI/Savings Plans 情報。
- **利用**: コスト分析、コスト最適化、請求処理。
- **試験対策**: 提供されるデータの種類、利用ケースが問われる。

#### 8.2 定期的なレポート配信

- **配信先**: Amazon S3 バケット。
- **頻度**: 1 時間ごと、または 1 日ごと。
- **試験対策**: レポート配信の仕組み、頻度の設定が問われる。

#### 8.3 データフォーマット

- **形式**: CSV 形式、または Parquet 形式。
- **特徴**: Parquet 形式はデータ分析に最適化された列指向のデータ形式。
- **試験対策**: 各データ形式の特徴、利用ケースが問われる。

#### 8.4 カスタマイズ可能なレポート

- **機能**: レポートに含めるデータをカスタマイズ可能。
- **利用**: 必要なデータのみをレポートに含め、効率的にコスト分析を行う。
- **試験対策**: レポートのカスタマイズ方法、絞り込み条件が問われる。

#### 8.5 Athena との統合

- **連携**: CUR データを Amazon Athena で SQL クエリで分析。
- **利用**: 複雑なコスト分析を容易に行う。
- **試験対策**: Athena との連携方法、SQL クエリの実行方法が問われる。

#### 8.6 QuickSight との統合

- **連携**: CUR データを Amazon QuickSight で可視化。
- **利用**: インタラクティブなダッシュボードを作成し、コストトレンドを把握。
- **試験対策**: QuickSight との連携方法、ダッシュボード作成方法が問われる。

#### 8.7 料金体系

- **料金**: AWS CUR 自体は無料。
- **関連料金**: S3、Athena、QuickSight など、関連サービスの利用料が発生。
- **試験対策**: 料金体系、関連サービスの料金が問われる。

#### 8.8 類似・関連サービスとの比較

- **AWS Budgets**: 予算設定とアラートを提供するサービス。CUR は詳細なコストデータを提供する。
- **AWS Cost Explorer**: コスト分析、可視化に特化したサービス。CUR はデータソースとして利用できる。

#### 8.9 試験で頻出となる具体的な問われ方と答え

- Q: AWS Cost and Usage Report (CUR) は何を提供するサービスか？
  - A: AWS の利用料金とコストに関する詳細なデータを提供する。
- Q: AWS CUR のレポートは、どのような形式で配信されるか？
  - A: CSV 形式または Parquet 形式で配信される。
- Q: AWS CUR のレポートは、どのような場所に配信されるか？
  - A: Amazon S3 バケットに配信される。
- Q: AWS CUR で、レポートに含めるデータをカスタマイズすることはできるか？
  - A: はい、特定のサービス、タグ、リージョンなどのデータを絞り込むことができる。
- Q: AWS CUR の料金は？
  - A: 無料で利用できるが、関連サービスの利用料が発生する。

---

## Cost Explorer

### 1. サービス概要

AWS Cost Explorer は、AWS の利用料金とコストを可視化し、分析するためのサービスである。  
過去のコストと使用状況の傾向を分析し、将来のコストを予測し、コスト最適化のための推奨事項を提供する。  
これにより、AWS の利用状況を把握し、コスト削減の機会を特定し、予算内でのクラウド利用を促進できる。  
組織全体のコスト管理と効率的な AWS 利用に貢献する。

主なユースケースとして、

- AWS 利用料金の分析
- コスト削減目標の設定
- コスト要因の特定
- 予算超過のリスク軽減
- RI（リザーブドインスタンス）や Savings Plans の利用状況の把握
- 将来のコスト予測

などが挙げられる。  
AWS Cost Explorer は、これらのユースケースに対応するための様々な機能と、AWS の他のサービスとの統合を提供する。

### 2. 主な特徴と機能

#### 2.1 コストと使用状況の可視化

過去のコストと使用状況のデータを、グラフや表形式で可視化できる。  
コストは、サービス、リージョン、アカウント、タグなどでフィルタリングし、詳細に分析できる。

#### 2.2 コスト分析

時間単位、日単位、月単位などでコストを分析し、コストの傾向や変動要因を特定できる。  
また、コストをサービス、リージョン、アカウント、タグなどでグループ化し、分析できる。

#### 2.3 予測

過去のコストと使用状況のデータに基づき、将来のコストを予測できる。  
予測結果は、グラフや表形式で可視化され、予算計画やコスト管理に役立ちる。

#### 2.4 コスト最適化の推奨事項

リザーブドインスタンス（RI）や Savings Plans の推奨事項を提供し、コスト削減の機会を提示する。  
推奨事項に基づいて、コスト最適化のためのアクションを実行できる。

#### 2.5 RI/Savings Plans の利用状況の追跡

リザーブドインスタンス（RI）や Savings Plans の利用状況を追跡し、カバレッジや利用率を把握できる。  
未使用のリザーブドインスタンスや Savings Plans がある場合、アラートを通知できる。

#### 2.6 異常検出

機械学習を利用して、異常なコスト増加を自動的に検出し、通知できる。  
これにより、予期せぬコスト変動に早期に気づき、対応できる。

#### 2.7 統合性と拡張性

AWS Cost Explorer は、AWS Organizations、AWS Budgets、AWS Cost and Usage Report などの AWS サービスと統合できる。  
また、API を利用して、コストデータの取得や分析を自動化することもできる。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS マネジメントコンソールまたは API を通じて、AWS Cost Explorer にアクセス。
2. Cost Explorer は、AWS のコストと使用量のデータを収集。
3. ユーザーは、データのフィルタリング、グループ化、時間範囲などを指定して、コストを分析。
4. Cost Explorer は、分析結果をグラフや表形式で表示。
5. Cost Explorer は、過去のデータに基づき将来のコストを予測し、コスト最適化のための推奨事項を提供。

AWS Cost Explorer は、AWS のインフラ上に構築されており、高い可用性とスケーラビリティを提供する。  
コストデータは AWS が管理するため、ユーザーはインフラの管理を行う必要はない。

### 4. セキュリティと認証・認可

AWS Cost Explorer は、AWS のセキュリティモデルに準拠しており、コストデータのセキュリティを確保するために、以下の機能を提供する:

- **IAM 統合**: AWS Identity and Access Management (IAM) を利用して、AWS Cost Explorer へのアクセスを制御する。
- **アクセス制御**: IAM ポリシーを通じて、ユーザーやグループごとに、Cost Explorer の操作権限を詳細に制御できる。
- **データ保護**: コストデータは暗号化され、セキュアな環境で管理される。
- **監査ログ**: CloudTrail を通じて、AWS Cost Explorer の利用状況を監査できる。

これらのセキュリティ対策により、コストデータへの不正アクセスを防止し、機密情報を保護できる。

### 5. 料金形態

AWS Cost Explorer は、無料で利用できるサービスである。

ただし、Cost Explorer からエクスポートしたデータを分析するために、他の AWS サービス（Amazon S3、Amazon Athena、Amazon QuickSight など）を利用する場合は、それらのサービスの料金が発生する。

### 6. よくあるアーキテクチャ・設計パターン

AWS Cost Explorer は、様々な AWS 利用環境で利用できる。一般的なパターンは以下の通りである:

- **AWS 利用料金の分析**: AWS アカウント全体の利用料金を分析し、コストの傾向や要因を把握。
- **コスト削減目標の設定**: コスト削減目標を設定し、進捗状況を監視して、目標達成を促進。
- **コスト要因の特定**: サービス、リージョン、アカウント、タグなどでコストを分析し、コスト要因を特定。
- **RI/Savings Plans の利用状況の把握**: RI や Savings Plans の利用状況を監視し、コスト最適化のためのアクションを促す。
- **将来のコスト予測**: 過去のデータに基づき、将来のコストを予測し、予算計画に活用。
- **コスト異常検出**: 予期せぬコスト増加を自動的に検出し、早期に対応。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS マネジメントコンソールから AWS Cost Explorer を開き、コストと使用状況のグラフを表示。
2. コストを分析したい期間、サービス、リージョンなどを選択し、データをフィルタリング。
3. コストをグループ化（サービス、リージョン、アカウントなど）。
4. RI/Savings Plans の利用状況を確認し、推奨事項を参照。
5. 過去のデータに基づき将来のコストを予測。
6. 必要に応じて、コストデータをエクスポートし、詳細分析を行う。

### 8. 試験で問われやすいポイント

#### 8.1 コストと使用状況の可視化

- **表示形式**: グラフ、表形式でコストを可視化。
- **フィルタリング**: サービス、リージョン、アカウント、タグなどでフィルタリング可能。
- **試験対策**: 可視化できるデータ、フィルタリング方法が問われる。

#### 8.2 コスト分析

- **分析範囲**: 時間単位、日単位、月単位などで分析。
- **グループ化**: サービス、リージョン、アカウント、タグなどでグループ化。
- **試験対策**: 分析方法、グループ化方法が問われる。

#### 8.3 予測

- **予測方法**: 過去のコストと使用状況のデータに基づく。
- **表示**: グラフ、表形式で予測結果を表示。
- **試験対策**: 予測の仕組み、表示方法が問われる。

#### 8.4 コスト最適化の推奨事項

- **推奨内容**: RI や Savings Plans の推奨事項。
- **目的**: コスト削減の機会を提示。
- **試験対策**: 推奨事項の内容、利用方法が問われる。

#### 8.5 RI/Savings Plans の利用状況の追跡

- **追跡対象**: リザーブドインスタンス（RI）や Savings Plans の利用状況。
- **可視化**: カバレッジや利用率を把握。
- **試験対策**: RI/Savings Plans の利用状況を追跡する機能が問われる。

#### 8.6 異常検出

- **検出方法**: 機械学習を利用し、異常なコスト増加を自動的に検出。
- **目的**: 予期せぬコスト変動に早期に気づき、対応。
- **試験対策**: 異常検出の機能、利用シナリオが問われる。

#### 8.7 料金体系

- **料金**: AWS Cost Explorer 自体は無料で利用可能。
- **関連料金**: エクスポートしたデータを分析するための関連サービス料金が発生する場合がある。
- **試験対策**: 料金体系、関連サービスの料金が問われる。

#### 8.8 類似・関連サービスとの比較

- **AWS Budgets**: 予算設定とアラートを提供するサービス。Cost Explorer はコスト分析に特化。
- **AWS Cost and Usage Report (CUR)**: 詳細なコストデータを提供するサービス。Cost Explorer は CUR のデータを可視化するツール。

#### 8.9 試験で頻出となる具体的な問われ方と答え

- Q: AWS Cost Explorer は何を提供するサービスか？
  - A: AWS の利用料金とコストを可視化し、分析するためのサービスである。
- Q: AWS Cost Explorer で利用できる機能は何か？
  - A: コストと使用状況の可視化、コスト分析、コスト予測、コスト最適化の推奨事項、RI/Savings Plans の追跡、コスト異常検出などである。
- Q: AWS Cost Explorer でコストをグループ化する方法は何か？
  - A: サービス、リージョン、アカウント、タグなどでグループ化できる。
- Q: AWS Cost Explorer はどのようなデータに基づいて将来のコストを予測するか？
  - A: 過去のコストと使用状況のデータに基づいて予測する。
- Q: AWS Cost Explorer の料金は？
  - A: 無料で利用できる。

---

## Savings Plans

### 1. サービス概要

AWS Savings Plans は、AWS が提供する柔軟な料金モデルで、AWS Compute（EC2, Fargate, Lambda）の利用料金を大幅に削減できる。  
このサービスを利用することで、特定の期間（1 年または 3 年）におけるコンピューティングリソースの利用コミットメントに基づいて、割引料金が適用される。  
Savings Plans は、リザーブドインスタンス（RI）よりも柔軟性が高く、リソース使用量の変化に対応しやすくなっている。

主なユースケースとして、

- 予測可能なコンピューティングワークロードのコスト削減
- コンテナ化されたアプリケーションのコスト最適化
- サーバーレスアプリケーションのコスト削減

などが挙げられる。

### 2. 主な特徴と機能

#### 2.1 コンピューティング利用の割引

Savings Plans は、EC2 インスタンス、Fargate、Lambda の利用料金に対して、オンデマンド料金よりも大幅な割引を提供する。  
割引率は、プランのコミットメント期間とコミットメント金額によって異なりる。

#### 2.2 柔軟な利用

Savings Plans は、EC2 インスタンスのサイズ、OS、テナンシー、リージョンなど、様々な属性に対して柔軟に適用できる。  
また、Fargate と Lambda にも適用できるため、幅広いワークロードをカバーできる。

#### 2.3 コミットメント期間

1 年または 3 年のコミットメント期間を選択できる。  
コミットメント期間が長いほど、割引率が高くなりる。

#### 2.4 2 種類のプラン

Savings Plans には、Compute Savings Plans と EC2 Instance Savings Plans の 2 つのタイプがある。  
それぞれのプランで割引が適用される範囲が異なりる。

- **Compute Savings Plans**: EC2、Fargate、Lambda の利用料金に適用。インスタンスファミリー、リージョン、OS に関わらず適用可能。
- **EC2 Instance Savings Plans**: EC2 インスタンスの利用料金に適用。インスタンスファミリーとリージョンを限定して適用可能。

#### 2.5 自動適用

Savings Plans は、対象となるコンピューティングリソースの利用料金に自動的に適用される。  
これにより、手動での割引適用設定は不要である。

#### 2.6 変更と交換

Savings Plans は、コミットメント期間中は変更やキャンセルはできないが、異なるタイプの Savings Plans へ交換できる。  
これにより、よりコストを最適化できる。

#### 2.7 管理とモニタリング

AWS Cost Explorer や AWS Cost and Usage Report を利用して、Savings Plans の利用状況を詳細に分析できる。  
これにより、コスト最適化の戦略を改善できる。

#### 2.8 統合性

Savings Plans は、AWS Cost Explorer, AWS Cost and Usage Report, AWS Billing and Cost Management などの AWS サービスと統合されており、コスト管理を効率的に行うことができる。  
AWS Organizations と連携して、組織全体でのコスト管理を可能にする。

### 3. アーキテクチャおよび技術要素

1. ユーザーは、AWS コンソールまたは API を使用して、Savings Plans を購入。
2. Savings Plans は、ユーザーが指定したコミットメント期間と金額に基づいて適用。
3. Savings Plans は、対象となるコンピューティングリソースの利用料金に自動的に適用。
4. AWS Cost Explorer や AWS Cost and Usage Report で、Savings Plans の利用状況を分析。

Savings Plans は、AWS の課金システムに組み込まれた料金モデルであり、リソースの利用状況に合わせて自動的に適用される。 ユーザーは、複雑な設定や管理を行う必要はなく、コスト削減効果を享受できる。

### 4. セキュリティと認証・認可

セキュリティは Savings Plans の重要な要素である:

- **IAM によるアクセス制御**: AWS IAM を利用して、Savings Plans の購入や管理に関するアクセスを制御し、権限を管理。
- **監査ログ**: AWS CloudTrail を利用して、Savings Plans の購入や変更履歴を記録。

これにより、Savings Plans の安全な利用とコンプライアンスを確保できる。

### 5. 料金形態

AWS Savings Plans の料金は、購入時にコミットする 1 時間あたりの利用料金に基づいて計算される。  
コミットメント金額に応じて、オンデマンド料金よりも大幅な割引が適用される。

- **コミットメント金額**: 購入時に指定する 1 時間あたりの利用料金。
- **割引率**: コミットメント期間（1 年または 3 年）によって異なる。
- **超過料金**: コミットメント金額を超える利用については、オンデマンド料金が適用。

### 6. よくあるアーキテクチャ・設計パターン

一般的なパターンは以下の通りである:

- **予測可能なコンピューティングワークロードのコスト削減**: EC2 インスタンス、Fargate、Lambda など、予測可能なコンピューティングリソースの使用量を Savings Plans でカバー。
- **コンテナ化されたアプリケーションのコスト最適化**: Fargate を利用したコンテナアプリケーションの実行コストを Savings Plans で削減。
- **サーバーレスアプリケーションのコスト削減**: Lambda 関数を利用したサーバーレスアプリケーションの実行コストを Savings Plans で削減。
- **継続的なワークロードのコスト削減**: 常に一定量のコンピューティングリソースを使用するアプリケーションのコストを削減。
- **ハイブリッド環境のコスト削減**: オンプレミスと AWS 環境で、Savings Plans を最大限に活用してコストを削減。

### 7. 設定・デプロイ手順（ハンズオン例）

1. AWS コンソールまたは AWS CLI を使用して、Savings Plans を購入。
2. Savings Plans の種類（Compute Savings Plans または EC2 Instance Savings Plans）とコミットメント期間を選択。
3. 購入した Savings Plans が、対象となるコンピューティングリソースに自動的に適用されることを確認。
4. AWS Cost Explorer で Savings Plans の利用状況を分析。

### 8. 試験で問われやすいポイント

#### 8.1 コンピューティング利用の割引

- **割引対象**: EC2, Fargate, Lambda の利用料金に適用されることを理解。
- **大幅割引**: オンデマンド料金よりも大幅な割引が適用されることを理解。

#### 8.2 柔軟な利用

- **適用範囲**: EC2 インスタンスのサイズ、OS、テナンシー、リージョンなど、様々な属性に対して柔軟に適用できることを理解。
- **ワークロード**: Fargate と Lambda にも適用できることを理解。

#### 8.3 コミットメント期間

- **期間選択**: 1 年または 3 年のコミットメント期間を選択できることを理解。
- **割引率**: コミットメント期間が長いほど、割引率が高くなることを理解。

#### 8.4 料金体系

- **コミットメント金額**: 購入時に指定する 1 時間あたりの利用料金を理解。
- **超過料金**: コミットメント金額を超える利用にはオンデマンド料金が適用されることを理解。

#### 8.5 類似・関連サービスとの比較

- **リザーブドインスタンス (RI)**: インスタンス予約型。Savings Plans は柔軟なコミットメント型。
- **スポットインスタンス**: 余剰キャパシティを利用。Savings Plans は予測可能なワークロード向け。

#### 8.6 試験で頻出となる具体的な問われ方と答え

- Q: AWS Savings Plans の主な用途は？
  - A: AWS Compute (EC2, Fargate, Lambda) の利用料金を大幅に削減すること。
- Q: Savings Plans が適用される AWS サービスは？
  - A: EC2, Fargate, Lambda。
- Q: Savings Plans のコミットメント期間は？
  - A: 1 年または 3 年。
- Q: Savings Plans のプランの種類は？
  - A: Compute Savings Plans と EC2 Instance Savings Plans。
- Q: Savings Plans とリザーブドインスタンス(RI)の違いは？
  - A: Savings Plans は RI より柔軟性が高い。
- Q: Savings Plans の料金体系は？
  - A: コミットメント金額に基づく割引と超過利用に対するオンデマンド料金。
- Q: Savings Plans とスポットインスタンスの違いは？
  - A: スポットインスタンスは余剰キャパシティ、Savings Plans は予測可能なワークロード向け。
