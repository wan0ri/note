---
title: Amazon Comprehend
---

## 1. サービス概要

Amazon Comprehend は、AWS が提供する自然言語処理（NLP）サービスである。  
テキストから感情分析、キーフレーズ抽出、エンティティ認識など多様なインサイトを得ることが可能で、機械学習やサーバ管理の知識がなくても、大規模テキスト分析を簡単に行えるのが特徴である。

主なユースケースとして、顧客フィードバック分析（SNS 投稿、レビューコメントなど）、サポートコールやチャットのログ解析、文書の自動分類・キーワード抽出、企業内ドキュメントのナレッジマネジメントなどが挙げられる。

## 2. 主な特徴と機能

## 2.1 感情分析（Sentiment Analysis）

テキストがポジティブかネガティブかなど、4 段階の感情判定（Positive / Negative / Neutral / Mixed）を返してくれる。  
SNS のつぶやきや商品レビュー、顧客アンケートなどの好感度を自動でスコア化し、トレンドを素早く把握できる。

## 2.2 エンティティ抽出（Entities）

テキストから人名、組織名、場所、商標、イベントなど、固有表現を検出し、該当部分・タイプ・スコアを返する。  
大量の文章から人名と企業名を抽出してリレーションを可視化するなど、データ連携に有効である。

## 2.3 キーフレーズ抽出（Key Phrases）

文章の中で「重要なフレーズや単語」を特定し、エッセンスだけを抽出する。  
要約やタグ付けの第一ステップとして活用することで、ドキュメント検索やメタデータ生成の効率化が図れる。

## 2.4 文章分類・トピックモデリング

特定のカテゴリに文章を仕分けするカスタム分類機能や、大規模テキストを自動的にグルーピングするトピックモデリング（LDA ベース）もサポート。  
これにより、ドキュメントのクラスター分析や自動タグ付けが容易になる。

## 2.5 カスタム辞書・カスタムモデル

Comprehend Medical をはじめ、専門分野の固有表現に対応するオプションも存在。  
また、カスタムエンティティ認識やカスタム分類のモデルを学習させることで、独自の業界用語や社内用語を認識させることが可能である。

## 3. アーキテクチャおよび技術要素

1. Amazon Comprehend の API にテキストを送信（同期的なエンドポイント / バッチ処理のいずれか）
2. Comprehend は内部の機械学習モデルを用いて、感情・エンティティ・キーフレーズなどを解析
3. 結果が JSON 形式で返され、各情報（スコア、タグ付けなど）を取得
4. 必要に応じて S3 上の大量テキストをバッチジョブで処理し、結果をファイル出力
5. ダッシュボードや BI ツール（QuickSight など）で可視化・分析を行い、洞察を得る

Comprehend の強みは、AWS マネージドの高精度 NLP エンジンを手軽に利用できる点。  
オンプレやクラウド環境を問わず、アプリケーションや分析パイプラインに統合可能である。

## 4. セキュリティと認証・認可

Comprehend でのセキュリティ上の考慮事項は以下の通りである:

- **IAM ポリシー**: Comprehend の API 呼び出し権限を付与するロールやユーザーを最小限に抑える
- **S3 暗号化**: バッチジョブで処理するテキストや出力ファイルを S3 で暗号化
- **VPC エンドポイント**: Comprehend へのアクセスをプライベートネットワークで行い、インターネット経由を避ける
- **CloudTrail 監査ログ**: 誰がいつ API を呼び出したか監視し、不正利用を検知

## 5. 料金形態

Amazon Comprehend の料金は以下に基づきる:

- **テキスト解析料金**: 処理する文字数に対する従量課金
- **カスタム分類/エンティティ学習**: モデル学習ジョブの時間当たり料金＋推論時の従量課金
- **トピックモデリング**: 分析ジョブごとの時間課金と、データ量による費用

## 6. よくあるアーキテクチャ・設計パターン

Amazon Comprehend を活用する代表的なパターンは次の通りである:

- **カスタマーサポート分析**: 通話ログやチャット履歴を Comprehend で感情分析し、問題の深刻度や CS 改善を可視化
- **SNS・レビュー解析**: Twitter や製品レビューなどからブランドへの好感度を定量化し、マーケティング指標とする
- **ドキュメント仕分け**・検索性向上: 大量文書を自動分類・タグ付けし、検索システムを高効率化
- **カスタム辞書でのエンティティ抽出**: 医療・法律・金融など特殊用語を識別し、独自の情報抽出を可能に

## 7. 設定・デプロイ手順（ハンズオン例）

1. AWS コンソールで「Amazon Comprehend」を検索し、「Analyze text」を選択（シンプルなデモ解析が可能）
2. 対象テキストを入力し、エンティティや感情などの結果を GUI で確認
3. 「Custom classification」や「Custom entity recognition」を利用する場合は、学習用データを S3 へアップロードし、ジョブを作成
4. ジョブ完了後、モデルが生成されるので、API やコンソールから推論を実行して結果を検証
5. 本番運用で使う際は、CLI や SDK で Comprehend API を組み込み、処理スクリプトや Lambda 関数などと連携

## 8. 試験で問われやすいポイント

## 8.1 感情分析・エンティティ解析の仕組み

- **感情**: Positive / Negative / Neutral / Mixed の分類とスコア
- **エンティティ**: PERSON, ORGANIZATION, LOCATION などのカテゴリーを識別
- **キーフレーズ**: テキストの重要表現を抽出

## 8.2 カスタムモデル

- **カスタムエンティティ認識**: 特殊用語や業界固有用語を識別させる
- **カスタム文書分類**: 独自のカテゴリーに文章を分類、学習データが必要
- **精度向上**: 十分な量と品質の教師データがモデル性能を左右

## 8.3 トピックモデリング

- **LDA アルゴリズム**: 文書コーパスを複数のトピックに分割
- **ジョブ設定**: 入力データ（S3）の場所や出力場所、トピック数を指定
- **分析結果**: 文書がどのトピックにどの程度関係するかの出力

## 8.4 バッチ処理とリアルタイム処理

- **Sync/Async API**: 同期 API（テキスト 1 回呼び出し） or バッチジョブ（S3 入力を一括処理）
- **リアルタイム通知**: SNS などでジョブ完了を受け取り、次のステップへ自動連携

## 8.5 コスト管理

- **文字数ベース料金**: 1 文字あたりの従量課金、感情・キーフレーズ・エンティティごとに異なるレート
- **トピックモデリング**: 処理ジョブ時間に応じた課金
- **カスタムモデル学習**: トレーニング時間の従量課金と推論時の文字数課金

## 8.6 試験で頻出となる具体的な問われ方と答え

- Q: Comprehend で可能な分析手法は？
  - A: 感情分析、エンティティ抽出、キーフレーズ抽出、言語検出、カスタム分類、トピックモデリングなど。
- Q: データをまとめて解析したい場合は？
  - A: バッチジョブを使用し、S3 入力を指定して大量の文書を一括処理。ジョブ完了時に結果を S3 に出力。
- Q: 独自用語（業界の専門用語など）を認識させたい場合は？
  - A: カスタムエンティティ認識機能を使い、学習用データを用いて独自モデルをトレーニングする。
- Q: セキュリティ面で気をつける点は？
  - A: IAM ポリシーによる API アクセス制限、S3 の暗号化、CloudTrail で操作ログを監査など。
- Q: 感情分析の結果を数値化するには？
  - A: Positive/Negative/Neutral/Mixed に対するスコアが返されるので、それをメトリクス化や可視化で活用する。
